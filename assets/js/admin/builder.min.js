function UM_Drag_and_Drop(){jQuery(".um-admin-drag-col,.um-admin-drag-group").sortable({items:".um-admin-drag-fld",connectWith:".um-admin-drag-col,.um-admin-drag-group",placeholder:"um-fld-placeholder",forcePlaceholderSize:!0,update:function(d,a){jQuery("#publish").attr("disabled","disabled"),a.item.hasClass("um-field-type-group")&&0<a.item.parents(".um-field-type-group").length?(jQuery(".um-admin-drag-col,.um-admin-drag-group").sortable("cancel"),jQuery("#publish").prop("disabled",!1)):(UM_Change_Field_Col(),UM_Change_Field_Grp(),UM_Rows_Refresh())}}),jQuery(".um-admin-drag-rowsubs").sortable({items:".um-admin-drag-rowsub",placeholder:"um-rowsub-placeholder",forcePlaceholderSize:!0,zIndex:9999999999,update:function(){jQuery("#publish").attr("disabled","disabled"),UM_update_subrows(),UM_Rows_Refresh()}}).disableSelection(),jQuery(".um-admin-drag-rowsub").sortable({items:".um-admin-drag-col",zIndex:9999999999,update:function(){jQuery("#publish").attr("disabled","disabled"),(row=jQuery(this)).find(".um-admin-drag-col").removeClass("cols-1 cols-2 cols-3 cols-last cols-middle"),row.find(".um-admin-drag-col").addClass("cols-"+row.find(".um-admin-drag-col").length),row.find(".um-admin-drag-col:last").addClass("cols-last"),3==row.find(".um-admin-drag-col").length&&row.find(".um-admin-drag-col:eq(1)").addClass("cols-middle"),UM_Change_Field_Col(),UM_Change_Field_Grp(),UM_Rows_Refresh()}}).disableSelection(),jQuery(".um-admin-drag-ajax").sortable({items:".um-admin-drag-row",handle:".um-admin-drag-row-start",zIndex:9999999999,placeholder:"um-row-placeholder",forcePlaceholderSize:!0,out:function(){UM.common.tipsy.hide()},update:function(){jQuery("#publish").attr("disabled","disabled"),UM_update_rows(),UM_Change_Field_Col(),UM_Change_Field_Grp(),UM_Rows_Refresh()}}).disableSelection()}function UM_update_rows(){var d=0;jQuery('a[data-remove_element="um-admin-drag-row"]').remove(),jQuery(".um-admin-drag-row").each(function(){d++,row=jQuery(this),1!=d&&row.find(".um-admin-drag-row-icons").append('<a href="#" class="um-tip-n" title="Delete Row" data-remove_element="um-admin-drag-row"><i class="um-faicon-trash-o"></i></a>')})}function UM_update_subrows(){jQuery('a[data-remove_element="um-admin-drag-rowsub"]').remove(),jQuery(".um-admin-drag-row").each(function(){c=0,jQuery(this).find(".um-admin-drag-rowsub").each(function(){c++,row=jQuery(this),1!=c&&row.find(".um-admin-drag-rowsub-icons").append('<a href="#" class="um-tip-n" title="Delete Row" data-remove_element="um-admin-drag-rowsub"><i class="um-faicon-trash-o"></i></a>')})})}function UM_Change_Field_Col(){jQuery(".um-admin-drag-col .um-admin-drag-fld").each(function(){cols=jQuery(this).parents(".um-admin-drag-rowsub").find(".um-admin-drag-col").length,(col=jQuery(this).parents(".um-admin-drag-col")).hasClass("cols-last")?(1==cols&&(saved_col=1),3==cols?saved_col=3:2==cols&&(saved_col=2)):saved_col=col.hasClass("cols-middle")&&3==cols?2:1,jQuery(this).data("column",saved_col)})}function UM_Change_Field_Grp(){jQuery(".um-admin-drag-col .um-admin-drag-fld:not(.um-field-type-group)").each(function(){0==jQuery(this).parents(".um-admin-drag-group").length?jQuery(this).data("group",""):jQuery(this).data("group",jQuery(this).parents(".um-admin-drag-fld.um-field-type-group").data("key"))})}function UM_Rows_Refresh(){jQuery(".um_update_order_fields").empty();var a,e=0;jQuery(".um-admin-drag-row").each(function(){e++,row=jQuery(this),col_num="",row.find(".um-admin-drag-rowsub").each(function(){(subrow=jQuery(this)).find(".um-admin-drag-col").removeClass("cols-1 cols-2 cols-3 cols-last cols-middle"),subrow.find(".um-admin-drag-col").addClass("cols-"+subrow.find(".um-admin-drag-col").length),subrow.find(".um-admin-drag-col:last").addClass("cols-last"),3==subrow.find(".um-admin-drag-col").length&&subrow.find(".um-admin-drag-col:eq(1)").addClass("cols-middle"),col_num=col_num?col_num+":"+subrow.find(".um-admin-drag-col").length:subrow.find(".um-admin-drag-col").length}),jQuery(".um_update_order_fields").append('<input type="hidden" name="_um_rowcols_'+e+'_cols" id="_um_rowcols_'+e+'_cols" value="'+col_num+'" />'),sub_rows_count=row.find(".um-admin-drag-rowsub").length;var d=jQuery(this).attr("data-original");jQuery(".um_update_order_fields").append('<input type="hidden" name="_um_row_'+e+'" id="_um_row_'+e+'" value="_um_row_'+e+'" />'),jQuery(".um_update_order_fields").append('<input type="hidden" name="_um_roworigin_'+e+'_val" id="_um_roworigin_'+e+'_val" value="'+d+'" />'),jQuery(".um_update_order_fields").append('<input type="hidden" name="_um_rowsub_'+e+'_rows" id="_um_rowsub_'+e+'_rows" value="'+sub_rows_count+'" />'),jQuery(this).attr("data-original","_um_row_"+e)}),a=0,jQuery(".um-admin-drag-col .um-admin-drag-fld").each(function(){var d;jQuery(this).hasClass("group")||(""!=(d=jQuery(this).data("group"))?(0==jQuery(".um-admin-drag-fld.um-field-type-group."+d).find(".um-admin-drag-group").find(jQuery(this)).length&&jQuery(this).appendTo(jQuery(".um-admin-drag-fld.um-field-type-group."+d).find(".um-admin-drag-group")),jQuery(".um_update_order_fields").append('<input type="hidden" name="um_group_'+jQuery(this).data("key")+'" id="um_group_'+jQuery(this).data("key")+'" value="'+d+'" />')):jQuery(".um_update_order_fields").append('<input type="hidden" name="um_group_'+jQuery(this).data("key")+'" id="um_group_'+jQuery(this).data("key")+'" value="" />')),a++,row="_um_row_"+(row=jQuery(this).parents(".um-admin-drag-row").index()+1),3==(saved_col=jQuery(this).data("column"))&&jQuery(this).appendTo(jQuery(this).parents(".um-admin-drag-rowsub").find(".um-admin-drag-col:eq(2)")),2==saved_col&&jQuery(this).appendTo(jQuery(this).parents(".um-admin-drag-rowsub").find(".um-admin-drag-col:eq(1)")),sub_row=jQuery(this).parents(".um-admin-drag-rowsub").index(),jQuery(".um_update_order_fields").append('<input type="hidden" name="um_position_'+jQuery(this).data("key")+'" id="um_position_'+jQuery(this).data("key")+'" value="'+a+'" />'),jQuery(".um_update_order_fields").append('<input type="hidden" name="um_row_'+jQuery(this).data("key")+'" id="um_row_'+jQuery(this).data("key")+'" value="'+row+'" />'),jQuery(".um_update_order_fields").append('<input type="hidden" name="um_subrow_'+jQuery(this).data("key")+'" id="um_subrow_'+jQuery(this).data("key")+'" value="'+sub_row+'" />'),jQuery(".um_update_order_fields").append('<input type="hidden" name="um_col_'+jQuery(this).data("key")+'" id="um_col_'+jQuery(this).data("key")+'" value="'+saved_col+'" />')}),UM_Drag_and_Drop(),UM_Add_Icon(),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:jQuery(".um_update_order").serialize(),success:function(){jQuery("#publish").prop("disabled",!1)}})}function UM_Add_Icon(){var d='<a href="#" class="um-admin-drag-add-field um-tip-n" title="Add Field" data-modal="UM_fields" data-modal-size="normal" data-dynamic-content="um_admin_show_fields" data-arg2="'+jQuery(".um-admin-drag-ajax").data("form_id")+'" data-arg1=""><i class="um-icon-plus"></i></a>';jQuery(".um-admin-drag-col").each(function(){0==jQuery(this).find(".um-admin-drag-add-field").length||jQuery(this).find(".um-admin-drag-add-field").remove(),jQuery(this).append(d)}),jQuery(".um-admin-drag-group").each(function(){0==jQuery(this).find(".um-admin-drag-add-field").length||jQuery(this).find(".um-admin-drag-add-field").remove(),jQuery(this).append(d)})}function um_builder_delete_field_ajax(a){var d,e;0<UM.admin.builder.fieldsToDelete.length?(e=UM.admin.builder.fieldsToDelete.shift(),d=jQuery(e).find('[data-silent_action="um_admin_remove_field"]').data("arg1"),e=jQuery(e).find('[data-silent_action="um_admin_remove_field"]').data("arg2"),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:{action:"um_do_ajax_action",act_id:"um_admin_remove_field",arg1:d,arg2:e,nonce:um_admin_scripts.nonce},success:function(d){um_builder_delete_field_ajax(a)},error:function(d){a()}})):a()}function um_form_select_tab(d,a){var e=jQuery("input#form__um_mode");d.parents(".um-admin-boxed-links").find("a").removeClass("um-admin-activebg"),d.addClass("um-admin-activebg"),jQuery(".um-admin div#side-sortables").show(),jQuery('div[id^="um-admin-form"]').hide(),jQuery("#submitdiv").show(),jQuery("div#um-admin-form-mode,div#um-admin-form-title,div#um-admin-form-builder,div#um-admin-form-shortcode").show(),jQuery('div[id^="um-admin-form-'+d.data("role")+'"]').show(),a&&e.val(d.data("role")),jQuery(".empty-container").css({border:"none"}),jQuery(".um-admin-builder").removeClass().addClass("um-admin-builder "+e.val())}function um_admin_update_builder(){var d=jQuery(".um-admin-builder").data("form_id");return jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:{action:"um_update_builder",form_id:d,nonce:um_admin_scripts.nonce},success:function(d){jQuery(".um-admin-drag-ajax").html(d),UM.common.tipsy.hide(),allow_update_via_col_click=!1,jQuery(".um-admin-drag-ctrls.columns a.active").each(function(){jQuery(this).trigger("click")}).promise().done(function(){allow_update_via_col_click=!0}),UM_Rows_Refresh()},error:function(d){}}),!1}"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof window.UM.admin&&(window.UM.admin={}),UM.admin.builder={deleteProcess:[],fieldsToDelete:[]},jQuery(document).ready(function(){if(0<jQuery(".um-admin-boxed-links").length&&um_form_select_tab(jQuery('.um-admin-boxed-links a[data-role="'+jQuery("input#form__um_mode").val()+'"]'),!1),jQuery(".um-admin-boxed-links:not(.is-core-form) a").on("click",function(){um_form_select_tab(jQuery(this),!0)}),jQuery("#wpfooter").hide(),jQuery(document.body).on("change",".um-adm-conditional",function(){var d="checkbox"==jQuery(this).attr("type")?jQuery(this).is(":checked")?1:0:jQuery(this).val();if(jQuery(this).data("cond1"))if(d==jQuery(this).data("cond1")){if(jQuery("."+jQuery(this).data("cond1-show")).show(),jQuery("."+jQuery(this).data("cond1-hide")).hide(),"_roles"==jQuery(this).data("cond1-show"))return!1}else jQuery("."+jQuery(this).data("cond1-show")).hide(),jQuery("."+jQuery(this).data("cond1-hide")).show();if(jQuery(this).data("cond2"))if(d==jQuery(this).data("cond2")){if(jQuery("."+jQuery(this).data("cond2-show")).show(),jQuery("."+jQuery(this).data("cond2-hide")).hide(),"_roles"==jQuery(this).data("cond2-show"))return!1}else jQuery("."+jQuery(this).data("cond2-show")).hide(),jQuery("."+jQuery(this).data("cond2-hide")).show();jQuery(this).data("cond3")&&(d==jQuery(this).data("cond3")?(jQuery("."+jQuery(this).data("cond3-show")).show(),jQuery("."+jQuery(this).data("cond3-hide")).hide()):(jQuery("."+jQuery(this).data("cond3-show")).hide(),jQuery("."+jQuery(this).data("cond3-hide")).show()))}),jQuery(".um-adm-conditional").each(function(){jQuery(this).trigger("change")}),jQuery(document.body).on("click",'a[data-silent_action^="um_"]',function(){var d,a,e,i,n,r,o,u;return void 0===jQuery(this).attr("disabled")&&(d=jQuery(this).data("silent_action"),a=jQuery(this).data("arg1"),e=jQuery(this).data("arg2"),o=r=n=i="",(u=jQuery(".um-col-demon-settings")).data("in_column")&&(i=u.data("in_row"),n=u.data("in_sub_row"),r=u.data("in_column"),o=u.data("in_group")),um_admin_remove_modal(),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:{action:"um_do_ajax_action",act_id:d,arg1:a,arg2:e,in_row:i,in_sub_row:n,in_column:r,in_group:o,nonce:um_admin_scripts.nonce},success:function(d){u.data("in_row","").data("in_sub_row","").data("in_column","").data("in_group",""),um_admin_modal_responsive(),um_admin_update_builder()},error:function(d){}})),!1}),jQuery(document.body).on("click",".um-admin-btns a span.remove",function(d){var a;return d.preventDefault(),confirm(wp.i18n.__("This will permanently delete this custom field from a database and from all forms on your site. Are you sure?","ultimate-member"))&&(jQuery(this).parents("a").remove(),a=jQuery(this).parents("a").data("arg1"),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:{action:"um_do_ajax_action",act_id:"um_admin_remove_field_global",arg1:a,nonce:um_admin_scripts.nonce},success:function(d){jQuery("#um-admin-form-builder ."+a).remove()},error:function(d){}})),!1}),jQuery(document.body).on("submit","form.um_add_field",function(d){d.preventDefault();var a=jQuery(".um-admin-cur-condition"),i=(jQuery(a).each(function(d){""!==jQuery(this).find('[id^="_conditional_action"]').val()&&""!==jQuery(this).find('[id^="_conditional_field"]').val()&&""!==jQuery(this).find('[id^="_conditional_operator"]').val()||jQuery(a[d]).find(".um-admin-remove-condition").trigger("click")}),a=jQuery(".um-admin-cur-condition"),jQuery(a).each(function(d){d=0===d?"":d;jQuery(this).find('[id^="_conditional_action"]').attr("name","_conditional_action"+d),jQuery(this).find('[id^="_conditional_action"]').attr("id","_conditional_action"+d),jQuery(this).find('[id^="_conditional_field"]').attr("name","_conditional_field"+d),jQuery(this).find('[id^="_conditional_field"]').attr("id","_conditional_field"+d),jQuery(this).find('[id^="_conditional_operator"]').attr("name","_conditional_operator"+d),jQuery(this).find('[id^="_conditional_operator"]').attr("id","_conditional_operator"+d),jQuery(this).find('[id^="_conditional_value"]').attr("name","_conditional_value"+d),jQuery(this).find('[id^="_conditional_value"]').attr("id","_conditional_value"+d)}),jQuery(this));return jQuery.ajax({url:wp.ajax.settings.url,type:"POST",dataType:"json",data:i.serialize(),beforeSend:function(){i.css({opacity:.5}),jQuery(".um-admin-error").removeClass("um-admin-error"),i.find(".um-admin-error-block").hide(),i.find(".um-admin-success-block").hide()},complete:function(){i.css({opacity:1})},success:function(d){if(d.success){var a=d.data;if(a.error){let e=0;jQuery.each(a.error,function(d,a){1===++e&&(i.find("#"+d).addClass("um-admin-error").trigger("focus"),i.find(".um-admin-error-block").show().html(a))}),um_admin_modal_responsive()}else jQuery(".um-col-demon-settings").data("in_row","").data("in_sub_row","").data("in_column","").data("in_group",""),UM.common.tipsy.hide(),um_admin_remove_modal(),um_admin_update_builder()}else console.log(d)},error:function(d){console.log(d)}}),!1}),jQuery(document.body).on("click",".um-admin-builder a, .um-admin-modal a:not(.um-preview-upload)",function(d){return d.preventDefault(),!1}),jQuery(document.body).on("click",".um-admin-btn-toggle a",function(d){var a=jQuery(this).parent().find(".um-admin-btn-content"),e=jQuery(this);a.is(":hidden")?(a.show(),e.find("i").removeClass().addClass("um-icon-minus"),e.addClass("active")):(a.hide(),e.find("i").removeClass().addClass("um-icon-plus"),e.removeClass("active")),um_admin_modal_responsive()}),jQuery(document.body).on("click",".um-admin-new-condition",function(){if(jQuery(this).hasClass("disabled"))return!1;var d,a=jQuery(this).parents(".um-admin-btn-content"),a=(a.find(".um-admin-cur-condition").length<5?((d=jQuery(".um-admin-btn-content").find(".um-admin-cur-condition-template").clone()).find("input[type=text]").val(""),d.find("select").val(""),d.appendTo(a),jQuery(d).removeClass("um-admin-cur-condition-template"),jQuery(d).addClass("um-admin-cur-condition"),um_admin_live_update_scripts(),um_admin_modal_responsive()):(jQuery(this).addClass("disabled"),alert("You already have 5 rules")),jQuery(".um-admin-cur-condition"));jQuery(a).each(function(d){id=0===d?"":d,jQuery(this).find('[id^="_conditional_action"]').attr("name","_conditional_action"+id),jQuery(this).find('[id^="_conditional_action"]').attr("id","_conditional_action"+id),jQuery(this).find('[id^="_conditional_field"]').attr("name","_conditional_field"+id),jQuery(this).find('[id^="_conditional_field"]').attr("id","_conditional_field"+id),jQuery(this).find('[id^="_conditional_operator"]').attr("name","_conditional_operator"+id),jQuery(this).find('[id^="_conditional_operator"]').attr("id","_conditional_operator"+id),jQuery(this).find('[id^="_conditional_value"]').attr("name","_conditional_value"+id),jQuery(this).find('[id^="_conditional_value"]').attr("id","_conditional_value"+id)})}),jQuery(document.body).on("click",".um-admin-reset-conditions a",function(){var d=jQuery(this).parents(".um-admin-btn-content");d.find(".um-admin-cur-condition").slice(1).remove(),d.find("input[type=text]").val(""),d.find("select").val(""),jQuery(".um-admin-new-condition").removeClass("disabled"),um_admin_live_update_scripts(),um_admin_modal_responsive()}),jQuery(document.body).on("click",".um-admin-remove-condition",function(){var d=jQuery(this).parents(".um-admin-cur-condition"),d=(jQuery(".um-admin-new-condition").removeClass("disabled"),UM.common.tipsy.hide(),d.remove(),jQuery(".um-admin-cur-condition"));jQuery(d).each(function(d){id=0===d?"":d,jQuery(this).find('[id^="_conditional_action"]').attr("name","_conditional_action"+id),jQuery(this).find('[id^="_conditional_action"]').attr("id","_conditional_action"+id),jQuery(this).find('[id^="_conditional_field"]').attr("name","_conditional_field"+id),jQuery(this).find('[id^="_conditional_field"]').attr("id","_conditional_field"+id),jQuery(this).find('[id^="_conditional_operator"]').attr("name","_conditional_operator"+id),jQuery(this).find('[id^="_conditional_operator"]').attr("id","_conditional_operator"+id),jQuery(this).find('[id^="_conditional_value"]').attr("name","_conditional_value"+id),jQuery(this).find('[id^="_conditional_value"]').attr("id","_conditional_value"+id)}),um_admin_live_update_scripts(),um_admin_modal_responsive()}),jQuery(document.body).on("blur","#_custom_dropdown_options_source",function(){var d=jQuery(this),i=jQuery("textarea[id=_options]");""!=d.val()&&(d=d.val(),jQuery.ajax({url:wp.ajax.settings.url,type:"POST",data:{action:"um_populate_dropdown_options",um_option_callback:d,nonce:um_admin_scripts.nonce},complete:function(){},success:function(d){var a,e=[];for(a in d.data)e.push(d.data[a]);i.val(e.join("\n"))}}))}),jQuery(document.body).on("click",".um-admin-icons span",function(){var d=jQuery(this).attr("data-code");jQuery(this).parent().find("span").removeClass("highlighted"),jQuery(this).addClass("highlighted"),jQuery("#UM_fonticons").find("a.um-admin-modal-back").attr("data-code",d)}),!jQuery(".um-admin-drag").length)return!1;UM_Drag_and_Drop(),jQuery(document.body).on("click","a.um-admin-drag-add-field",function(){in_row=jQuery(this).parents(".um-admin-drag-row").index(),in_sub_row=jQuery(this).parents(".um-admin-drag-rowsub").index(),in_column=1==jQuery(this).parents(".um-admin-drag-rowsub").find(".um-admin-drag-col").length?1:jQuery(this).parents(".um-admin-drag-col").hasClass("cols-middle")?2:jQuery(this).parents(".um-admin-drag-col").hasClass("cols-last")?3==jQuery(this).parents(".um-admin-drag-rowsub").find(".um-admin-drag-col").length?3:2:1,in_group=jQuery(this).parents(".um-admin-drag-group").length?jQuery(this).parents(".um-admin-drag-fld.um-field-type-group").data("key"):"",jQuery(".um-col-demon-settings").data("in_row",in_row),jQuery(".um-col-demon-settings").data("in_sub_row",in_sub_row),jQuery(".um-col-demon-settings").data("in_column",in_column),jQuery(".um-col-demon-settings").data("in_group",in_group)}),jQuery(document.body).on("click",'*[data-row_action="add_row"]',function(){var d=jQuery(".um-admin-drag-ajax");d.append('<div class="um-admin-drag-row">'+jQuery(".um-col-demon-row").html()+"</div>"),d.find(".um-admin-drag-row:last").find(".um-admin-drag-row-icons").find("a.um-admin-drag-row-edit").attr("data-arg3","_um_row_"+d.find(".um-admin-drag-row").length),d.find(".um-admin-drag-row:last").attr("data-original","_um_row_"+d.find(".um-admin-drag-row").length),UM_update_rows(),UM_update_subrows(),UM_Rows_Refresh()}),jQuery(document.body).on("click",'*[data-row_action="add_subrow"]',function(){jQuery(this).parents(".um-admin-drag-row").find(".um-admin-drag-rowsubs").append('<div class="um-admin-drag-rowsub">'+jQuery(".um-col-demon-subrow").html()+"</div>"),UM_update_subrows(),UM_Rows_Refresh()}),jQuery(document.body).on("click",'a[data-remove_element^="um-"]',function(){let d=jQuery(this),a=jQuery(this).data("remove_element"),e=jQuery(this).parents("."+a).children(".um-admin-row-loading");var i=jQuery(this).parents(".um-admin-drag-row").index(),n=jQuery(this).parents(".um-admin-drag-rowsub").index();let r={row:i,subrow:n},o=!1;jQuery.each(UM.admin.builder.deleteProcess,function(d){if(r.row===UM.admin.builder.deleteProcess[d].row&&r.subrow===UM.admin.builder.deleteProcess[d].subrow)return!(o=!0)}),o||(e.show(),UM.admin.builder.deleteProcess.push({row:i,subrow:n}),UM.admin.builder.fieldsToDelete=jQuery(this).parents("."+a).find(".um-admin-drag-fld").toArray(),0<UM.admin.builder.fieldsToDelete.length?um_builder_delete_field_ajax(function(){UM.common.tipsy.hide(),d.parents("."+a).remove(),UM_Rows_Refresh(),jQuery.each(UM.admin.builder.deleteProcess,function(d){if(r.row===UM.admin.builder.deleteProcess[d].row&&r.subrow===UM.admin.builder.deleteProcess[d].subrow)return UM.admin.builder.deleteProcess.splice(d,1),!1}),e.hide()}):(UM.common.tipsy.hide(),jQuery(this).parents("."+a).remove(),UM_Rows_Refresh(),jQuery.each(UM.admin.builder.deleteProcess,function(d){if(r.row===UM.admin.builder.deleteProcess[d].row&&r.subrow===UM.admin.builder.deleteProcess[d].subrow)return UM.admin.builder.deleteProcess.splice(d,1),!1}),e.hide()))}),jQuery(document.body).on("click",".um-admin-drag-ctrls.columns a",function(){var d=jQuery(this).parents(".um-admin-drag-rowsub"),a=jQuery(this),e=(jQuery(this).parent().find("a").removeClass("active"),a.addClass("active"),d.find(".um-admin-drag-col").length),n=a.data("cols")-e;if(0<n){for(i=0;i<n;i++)d.find(".um-admin-drag-col-dynamic").append('<div class="um-admin-drag-col"></div>');d.find(".um-admin-drag-col").removeClass("cols-1 cols-2 cols-3 cols-last cols-middle"),d.find(".um-admin-drag-col").addClass("cols-"+d.find(".um-admin-drag-col").length),d.find(".um-admin-drag-col:last").addClass("cols-last"),3==d.find(".um-admin-drag-col").length&&d.find(".um-admin-drag-col:eq(1)").addClass("cols-middle")}else n<0&&(2==(n+=3)&&(d.find(".um-admin-drag-col:first").append(d.find(".um-admin-drag-col.cols-last").html()),d.find(".um-admin-drag-col.cols-last").remove()),1==n&&(d.find(".um-admin-drag-col:first").append(d.find(".um-admin-drag-col.cols-last").html()),d.find(".um-admin-drag-col:first").append(d.find(".um-admin-drag-col.cols-middle").html()),d.find(".um-admin-drag-col.cols-last").remove(),d.find(".um-admin-drag-col.cols-middle").remove()),d.find(".um-admin-drag-col").removeClass("cols-1 cols-2 cols-3 cols-last cols-middle"),d.find(".um-admin-drag-col").addClass("cols-"+d.find(".um-admin-drag-col:visible").length),d.find(".um-admin-drag-col:last").addClass("cols-last"));1==allow_update_via_col_click&&(UM_Change_Field_Col(),UM_Rows_Refresh())}),allow_update_via_col_click=!1,jQuery(".um-admin-drag-ctrls.columns a.active").each(function(){jQuery(this).trigger("click")}).promise().done(function(){allow_update_via_col_click=!0}),UM_Rows_Refresh()});