var um_radioStates={};function um_recalculate_indexes(e){e.find(".um-admin-option-row").each(function(e){jQuery(this).show().attr("data-option_index",e).data("option_index",e);var i=jQuery(this).find(".um-admin-option-default-multi").data("base-name");jQuery(this).find(".um-admin-option-default-multi").attr("name",i+"["+e+"]"),jQuery(this).find(".um-admin-option-default").attr("value",e);i=jQuery(this).find(".um-admin-option-key").data("base-name");jQuery(this).find(".um-admin-option-key").attr("name",i+"["+e+"]");i=jQuery(this).find(".um-admin-option-val").data("base-name");jQuery(this).find(".um-admin-option-val").attr("name",i+"["+e+"]")}),um_radio_set_states(e)}function um_multi_or_not(e,i){let t=i.find(".um-admin-option-rows"),n=t.find(".um-admin-option-row");e.is(":checked")?(n.find(".um-admin-option-default-multi").prop("disabled",!1).show(),n.find(".um-admin-option-default").prop("disabled",!0).prop("checked",!1).hide()):(n.find(".um-admin-option-default-multi").prop("disabled",!0).prop("checked",!1).hide(),n.find(".um-admin-option-default").prop("disabled",!1).show()),um_radio_set_states(t)}function um_admin_init_draggable(t){t.sortable({items:".um-admin-option-row",forcePlaceholderSize:!0,update:function(e,i){um_recalculate_indexes(t)}}),um_radio_set_states(t)}function um_radio_set_states(e){um_radioStates={},jQuery.each(e.find(".um-admin-option-default"),function(e,i){um_radioStates[i.value]=jQuery(i).is(":checked")})}"undefined"==typeof um_admin_field_groups_data&&(um_admin_field_groups_data={}),"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof UM.fields_groups&&(UM.fields_groups={}),UM.fields_groups={tabs:{setActive:function(e,i){var t=e.data("tab");let n=e.parents(".um-field-row-tabs");n.find("div[data-tab]").removeClass("current"),e.addClass("current");let o=e.parents(".um-field-row-tabs").siblings(".um-field-row-tabs-content");o.find("div[data-tab]").removeClass("current"),o.find('div[data-tab="'+t+'"]').addClass("current")},compare:function(e,i){if(e.length!==i.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==i[t])return!1;return!0},compareDeep:function(e,n){if(typeof e!=typeof n)return!1;if("object"!=typeof e)return e===n;{if(!UM.fields_groups.tabs.compare(Object.keys(e),Object.keys(n)))return!1;let t=!0;return Object.entries(e).forEach(([e,i])=>{if(t=UM.fields_groups.tabs.compareDeep(i,n[e]),!t)return!1}),t}},reBuild:function(e,i,t){var n=e.find(".um-field-row-tabs > div[data-tab].current").data("tab");e.find(".um-field-row-tabs > div[data-tab]").remove(),e.find(".um-field-row-tabs-content > div[data-tab]").each(function(){i.includes(t(this).data("tab"))||t(this).remove()});let o="";for(var d=0;d<i.length;d++)o+='<div data-tab="'+i[d]+'">'+um_admin_field_groups_data.field_tabs[i[d]]+"</div>",e.find('.um-field-row-tabs-content > div[data-tab="'+i[d]+'"]').length||e.find(".um-field-row-tabs-content").append('<div data-tab="'+i[d]+'"></div>');e.find(".um-field-row-tabs").html(o),e.find('.um-field-row-tabs > div[data-tab="'+n+'"]').addClass("current"),e.find('.um-field-row-tabs-content > div[data-tab="'+n+'"]').addClass("current")}},sortable:{init:function(e,i){e.sortable({items:".um-field-row",connectWith:"um-fields-column-content",placeholder:"um-field-row-placeholder",forcePlaceholderSize:!0,axis:"y",cursor:"move",handle:".um-field-row-move-link",update:function(){i(this).find(".um-field-row").each(function(e){e=+e+1;i(this).find(".um-field-row-order").val(e),i(this).find(".um-field-row-header .um-field-row-move-link").html(e)})}}).on("sortupdate",function(){i(this).find(".um-field-row").each(function(e){e=+e+1;i(this).find(".um-field-row-order").val(e),i(this).find(".um-field-row-header .um-field-row-move-link").html(e)})})},destroy:function(e){e.hasClass("ui-sortable")&&e.sortable("destroy")},reInit:function(e,i){UM.fields_groups.sortable.destroy(e),UM.fields_groups.sortable.init(e,i),e.trigger("sortupdate")}},field:{newIndex:0,settingsScreens:{},prepareSettings:function(n,e,o){n(".um-fields-column-content").find(".um-field-row").each(function(){let i=n(this).data("field"),t=n(this).find(".um-field-row-type-select").val();void 0!==e&&e!=i||("object"!=typeof UM.fields_groups.field.settingsScreens[i]&&(UM.fields_groups.field.settingsScreens[i]={}),"object"!=typeof UM.fields_groups.field.settingsScreens[i][t]&&(UM.fields_groups.field.settingsScreens[i][t]={}),n(this).find(".um-field-row-tabs > div[data-tab]").each(function(){var e=n(this).data("tab");void 0!==o&&o!=e||(UM.fields_groups.field.settingsScreens[i][t][e]=n(this).parents(".um-field-row-tabs").siblings(".um-field-row-tabs-content").find('div[data-tab="'+e+'"] > .form-table')[0].outerHTML)}))})},add:function(e,f){let i=e.closest(".um-fields-column").find(".um-fields-column-content"),t=e.closest(".um-fields-column").siblings(".um-field-row-template").clone().addClass("um-field-row").removeClass("um-field-row-template");UM.fields_groups.field.newIndex++;let c=UM.fields_groups.field.newIndex;t.data("field","new_"+c).attr("data-field","new_"+c);var n=i.find(".um-field-row").length+1;t.find(".um-field-row-move-link").html(n);let o=t.find(".um-field-row-id");o.removeAttr("disabled").prop("disabled",!1);let d=o.attr("name");void 0!==d&&(e=d.replace("{index}",c),o.attr("name",e));let l=t.find(".um-field-row-order");l.val(n).removeAttr("disabled").prop("disabled",!1);let a=l.attr("name");void 0!==a&&(n=a.replace("{index}",c),l.attr("name",n)),t.find(".um-form-table").each(function(e){let i=f(this).data("extra-class");void 0!==i&&(i=i.replace("{index}",c),i&&f(this).removeAttr("class").addClass("form-table um-form-table "+i))}),t.find(".um-forms-line").each(function(e){let i=f(this).data("prefix");var t,n,o;void 0!==i&&(t=i.replace("new_index","new_"+c),f(this).data("prefix",t).attr("data-prefix",t));let d=f(this).find("label"),l=d.attr("for");void 0!==l&&(t=l.replace("new_index","new_"+c),d.attr("for",t));let a=f(this).find(".um-forms-field"),s=a.attr("id");void 0!==s&&(n=s.replace("new_index","new_"+c),a.attr("id",n));let r=a.attr("name");void 0!==r&&(n=r.replace("{index}",c),a.attr("name",n)),a.removeAttr("disabled").prop("disabled",!1);let u=a.siblings('input[type="hidden"]');if(u.length){let e=u.attr("id");void 0!==e&&(o=e.replace("new_index","new_"+c),u.attr("id",o));let i=u.attr("name");void 0!==i&&(o=i.replace("{index}",c),u.attr("name",o)),u.removeAttr("disabled").prop("disabled",!1)}});let s=t.data("field");t.find(".um-conditional-rule-field-col .um-conditional-rule-setting").each(function(){f(this).find("option").each(function(){f(this).is(":selected")||""===f(this).attr("value")||f(this).remove()});let t=f(this);var e=t.val();f.each(UM.fields_groups.field.conditional.fieldsList,function(e,i){t.find('option[value="'+e+'"]').length||s==e||t.find('option[value=""]').after('<option value="'+e+'">'+i.title+"</option>")});let i=t.find("option").detach();i.sort(function(e,i){return""===f(e).val()?0:f(e).text()>f(i).text()?1:f(e).text()<f(i).text()?-1:0}),t.append(i).val(e)}),i.append(t),1<i.find(".um-field-row").length?UM.fields_groups.sortable.reInit(i,f):(i.removeClass("hidden"),i.siblings(".um-fields-column-header").removeClass("hidden"),i.siblings(".um-fields-column-empty-content").addClass("hidden"),UM.fields_groups.sortable.init(i,f)),UM.fields_groups.field.conditional.prepareFieldsList(f)},toggleEdit:function(e,i){e.hasClass("um-field-row-edit-mode")?UM.fields_groups.field.hideEdit(e,i):UM.fields_groups.field.showEdit(e,i)},showEdit:function(e,i){e.addClass("um-field-row-edit-mode"),e.find(".um-field-row-multiple-input").length&&e.find(".um-field-row-multiple-input").trigger("change")},hideEdit:function(e,i){e.removeClass("um-field-row-edit-mode")},duplicate:function(e,i){var t=e.closest(".um-fields-column-content"),n=e.closest(".um-field-row").clone();e.closest(".um-field-row").after(n),UM.fields_groups.sortable.reInit(t,i),UM.fields_groups.field.conditional.prepareFieldsList(i)},delete:function(e,i){let t=e.closest(".um-fields-column-content");e.closest(".um-field-row").remove(),t.find(".um-field-row").length?UM.fields_groups.sortable.reInit(t,i):(t.addClass("hidden"),t.siblings(".um-fields-column-header").addClass("hidden"),t.siblings(".um-fields-column-empty-content").removeClass("hidden"),UM.fields_groups.sortable.destroy(t)),UM.fields_groups.field.conditional.prepareFieldsList(i)},conditional:{fieldsList:{},prepareFieldsList:function(e){e(".um-fields-column-content").find(".um-field-row").each(function(){var t=e(this).data("field"),n=e(this).find(".um-field-row-type-select").val(),o=e(this).find(".um-field-row-title-input").val();if(um_admin_field_groups_data.field_types[n].conditional_rules.length){let i={};um_admin_field_groups_data.field_types[n].conditional_rules.forEach(e=>{i[e]=um_admin_field_groups_data.conditional_rules[e]});let e=null;"choice"===um_admin_field_groups_data.field_types[n].category&&(e={}),UM.fields_groups.field.conditional.fieldsList[t]={type:n,title:o,conditions:i,valueOptions:e}}})},reset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-conditional-rules-wrapper .um-conditional-remove-rule").each(function(e){i(this).trigger("click")})},addRulesGroup:function(e,n){let i=e.siblings(".um-conditional-rules-group-template").clone().addClass("um-conditional-rules-group").removeClass("um-conditional-rules-group-template"),o=e.find(".um-conditional-rules-group").length;i.data("group-index",o).attr("data-group-index",o),i.find(".um-conditional-rule-setting").each(function(e){let i=n(this).attr("name");var t;void 0!==i&&(t=i.replace("{group_key}",o),n(this).attr("name",t),n(this).parents(".um-conditional-rule-field-col").length&&n(this).prop("disabled",!1).removeAttr("disabled"))}),e.find(".um-conditional-rules-wrapper-bottom").before(i),UM.fields_groups.field.conditional.showReset(e,n),UM.fields_groups.field.prepareSettings(n)},addRule:function(e,t){let i=e.parents(".um-conditional-rules-wrapper"),n=i.siblings(".um-conditional-rule-row-template").clone().addClass("um-conditional-rule-row").removeClass("um-conditional-rule-row-template"),o=e.parents(".um-conditional-rules-group").data("group-index"),d=e.parents(".um-conditional-rules-group").find(".um-conditional-rule-row").length;n.find(".um-conditional-rule-setting").each(function(e){let i=t(this).attr("name");if(void 0!==i){let e=i.replace("{group_key}",o);e=e.replace("{row_key}",d),t(this).attr("name",e),t(this).parents(".um-conditional-rule-field-col").length&&t(this).prop("disabled",!1).removeAttr("disabled")}}),e.after(n),UM.fields_groups.field.conditional.changeInputIndex(i,t),UM.fields_groups.field.conditional.showReset(i,t),UM.fields_groups.field.prepareSettings(t)},removeRule:function(e,i){let t=e.parents(".um-conditional-rules-wrapper"),n=t.find(".um-conditional-rule-row");if(1===n.length)return n.find(".um-conditional-rule-field-col select").val(""),n.find(".um-conditional-rule-condition-col select").val(""),n.find(".um-conditional-rule-value-col select,.um-conditional-rule-value-col input").val(""),void UM.fields_groups.field.conditional.hideReset(t,i);let o=e.parents(".um-conditional-rules-group");(1===o.find(".um-conditional-rule-row").length?o:e).remove(),UM.fields_groups.field.conditional.changeInputIndex(t,i),UM.fields_groups.field.prepareSettings(i)},changeInputIndex:function(e,n){let o=0;e.find(".um-conditional-rules-group").each(function(e){let t=0;n(this).find(".um-conditional-rule-row").each(function(e){n(this).find(".um-conditional-rule-setting").each(function(e){let i=n(this).data("base-name");if(void 0!==i){let e=i.replace("{group_key}",o);e=e.replace("{row_key}",t),n(this).attr("name",e)}}),t++}),n(this).data("group-index",o).attr("data-group-index",o),o++})},showReset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-field-row-reset-all-conditions").css({visibility:"visible"})},hideReset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-field-row-reset-all-conditions").css({visibility:"hidden"})},parseRules:function(e,i){let t=[];return e.find(".um-conditional-rule-field-col select,.um-conditional-rule-condition-col select,.um-conditional-rule-value-col select,.um-conditional-rule-value-col input").each(function(e){""!==i(this).val()&&t.push(i(this))}),t},isEmpty:function(e,i){return!UM.fields_groups.field.conditional.parseRules(e,i).length}},changeType:function(o,d){let l=o.data("field");var e=UM.fields_groups.field.conditional.fieldsList[l].type,i=um_admin_field_groups_data.field_types[e].settings;let a=o.find(".um-field-row-type-select").val();var t=um_admin_field_groups_data.field_types[a].settings,n=Object.keys(i),s=Object.keys(t),e=o.find('.um-field-row-type-select option[value="'+o.find(".um-field-row-type-select").val()+'"]').html();if(o.find(".um-field-row-type").html(e),UM.fields_groups.tabs.compare(n,s)||UM.fields_groups.tabs.reBuild(o,s,d),o.find(".um-field-row-tabs > div[data-tab]").addClass("disabled"),"object"==typeof UM.fields_groups.field.settingsScreens[l]&&"object"==typeof UM.fields_groups.field.settingsScreens[l][a])d.each(UM.fields_groups.field.settingsScreens[l][a],function(e,i){let t=o.find('.um-field-row-tabs-content > div[data-tab="'+e+'"]'),n=d("<div>").append(i).find(".form-table");"conditional"===e&&n.find('[data-field_type="conditional_rules"]').html(t.find('[data-field_type="conditional_rules"]').html()),t.find(".um-field-row-static-setting").each(function(){n.find('[name="'+d(this).attr("name")+'"]').val(d(this).val())}),o.find('.um-field-row-tabs-content > div[data-tab="'+e+'"]').html(n[0].outerHTML)}),o.find(".um-field-row-type-select").removeClass("disabled").prop("disabled",!1),run_check_conditions(),UM.fields_groups.field.conditional.prepareFieldsList(d),o.find(".um-field-row-tabs > div[data-tab]").removeClass("disabled"),o.find(".um-field-row-multiple-input").length&&o.find(".um-field-row-multiple-input").trigger("change");else{if(!UM.fields_groups.tabs.compareDeep(i.general,t.general)){o.find('.um-field-row-tabs-content > div[data-tab="general"] .um-forms-field:not(.um-field-row-static-setting)').parents(".um-forms-line").remove();var r=Object.keys(t.general).length-2;if(0<r){let e=0;for(;e<r;)o.find('.um-field-row-tabs-content > div[data-tab="general"] > .form-table tbody').append('<tr class="um-forms-line um-forms-skeleton"><th><span class="um-skeleton-box" style="width:100%;height:20px;"></span></th><td><span class="um-skeleton-box" style="width:100%;height:40px;margin-bottom:4px;"></span><span class="um-skeleton-box" style="width:100%;height:14px;"></span></td></tr>'),e++}}wp.ajax.send("um_fields_groups_get_settings_form",{data:{field_id:l,type:a,nonce:um_admin_scripts.nonce},success:function(e){"object"!=typeof UM.fields_groups.field.settingsScreens[l]&&(UM.fields_groups.field.settingsScreens[l]={}),"object"!=typeof UM.fields_groups.field.settingsScreens[l][a]&&(UM.fields_groups.field.settingsScreens[l][a]={}),d.each(e.fields,function(e,i){UM.fields_groups.field.settingsScreens[l][a][e]=i;let t=d("<div>").append(i).find(".form-table"),n=o.find('.um-field-row-tabs-content > div[data-tab="'+e+'"]');"conditional"===e&&t.find('[data-field_type="conditional_rules"]').html(n.find('[data-field_type="conditional_rules"]').html()),n.find(".um-field-row-static-setting").each(function(){t.find('[name="'+d(this).attr("name")+'"]').val(d(this).val())}),n.html(t[0].outerHTML)}),o.find(".um-field-row-type-select").removeClass("disabled").prop("disabled",!1),run_check_conditions(),UM.fields_groups.field.conditional.prepareFieldsList(d),o.find(".um-field-row-tabs > div[data-tab]").removeClass("disabled"),o.find(".um-field-row-multiple-input").length&&o.find(".um-field-row-multiple-input").trigger("change")},error:function(e){console.error(e)}})}}}},jQuery(function(l){var e;0<l("#message[data-error-field]").length&&(e=l("#message[data-error-field]").data("error-field"),l("#"+e).addClass("um-error"),l("#message[data-error-field]")[0].scrollIntoView()),UM.fields_groups.field.conditional.prepareFieldsList(l),l(".um-fields-column-content").find(".um-field-row").each(function(){let n=l(this).data("field");l(this).find(".um-conditional-rule-field-col .um-conditional-rule-setting").each(function(){l(this).find("option").each(function(){l(this).is(":selected")||""===l(this).attr("value")||l(this).remove()});let t=l(this);var e=t.val();l.each(UM.fields_groups.field.conditional.fieldsList,function(e,i){t.find('option[value="'+e+'"]').length||n==e||t.find('option[value=""]').after('<option value="'+e+'">'+i.title+"</option>")});let i=t.find("option").detach();i.sort(function(e,i){return""===l(e).val()?0:l(e).text()>l(i).text()?1:l(e).text()<l(i).text()?-1:0}),t.append(i).val(e)})}),UM.fields_groups.field.prepareSettings(l),console.log(UM.fields_groups.field.settingsScreens),l(".um-fields-column-content").each(function(){UM.fields_groups.sortable.init(l(this),l)}),l(document.body).on("click",".um-field-row",function(e){void 0!==e.target&&e.target.classList.contains("um-field-row-toggle-edit")&&(e.preventDefault(),UM.fields_groups.field.toggleEdit(l(this),l))}),l(document.body).on("click",".um-field-row-action-edit",function(e){e.preventDefault();e=l(this).closest(".um-field-row");UM.fields_groups.field.toggleEdit(e,l)}),l(document.body).on("click",".um-field-row-action-delete",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure you want to delete this field?","ultimate-member"))&&UM.fields_groups.field.delete(l(this),l)}),l(document.body).on("click",".um-field-row-action-duplicate",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure you want to duplicate this field?","ultimate-member"))&&UM.fields_groups.field.duplicate(l(this),l)}),l(document.body).on("click",".um-add-field-to-column",function(e){e.preventDefault(),UM.fields_groups.field.add(l(this),l)}),l(document.body).on("click",".um-field-row-tabs > div[data-tab]:not(.current)",function(e){e.preventDefault(),l(this).hasClass("disabled")||UM.fields_groups.tabs.setActive(l(this),l)}),l(document.body).on("click",".um-field-row-reset-all-conditions",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure?","ultimate-member"))&&UM.fields_groups.field.conditional.reset(l(this),l)}),l(document.body).on("click",".um-conditional-add-rules-group",function(e){e.preventDefault();e=l(this).parents(".um-conditional-rules-wrapper");UM.fields_groups.field.conditional.addRulesGroup(e,l)}),l(document.body).on("click",".um-conditional-add-rule",function(e){e.preventDefault();e=l(this).parents(".um-conditional-rule-row");UM.fields_groups.field.conditional.addRule(e,l)}),l(document.body).on("click",".um-conditional-remove-rule",function(e){e.preventDefault();e=l(this).parents(".um-conditional-rule-row");UM.fields_groups.field.conditional.removeRule(e,l)}),l(document.body).on("change",".um-conditional-rule-field-col select, .um-conditional-rule-condition-col select, .um-conditional-rule-value-col select,.um-conditional-rule-value-col input",function(e){var i=l(this).parents('.um-field-row-tabs-content > div[data-tab="conditional"]');UM.fields_groups.field.conditional.isEmpty(i,l)?UM.fields_groups.field.conditional.hideReset(l(this),l):UM.fields_groups.field.conditional.showReset(l(this),l)}),l(document.body).on("change",".um-conditional-rule-field-col .um-conditional-rule-setting",function(e){var i=l(this).val();let n=l(this).parents(".um-conditional-rule-fields");if(""===i)n.find(".um-conditional-rule-condition-col .um-conditional-rule-setting").prop("disabled",!0),n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide();else{let t=n.find(".um-conditional-rule-condition-col .um-conditional-rule-setting");t.prop("disabled",!1),t.find("option").each(function(){""!==l(this).attr("value")&&l(this).remove()});t.val();l.each(UM.fields_groups.field.conditional.fieldsList[i].conditions,function(e,i){t.find('option[value="'+e+'"]').length||t.find('option[value=""]').after('<option value="'+e+'">'+i+"</option>")});let e=t.find("option").detach();e.sort(function(e,i){return""===l(e).val()?0:l(e).text()>l(i).text()?1:l(e).text()<l(i).text()?-1:0}),t.append(e).val(""),null===UM.fields_groups.field.conditional.fieldsList[i].valueOptions?(n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):(n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).hide(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).show())}}),l(document.body).on("change",".um-conditional-rule-condition-col .um-conditional-rule-setting",function(e){var i=l(this).val();let t=l(this).parents(".um-conditional-rule-fields");var n=t.find(".um-conditional-rule-field-col .um-conditional-rule-setting").val();""===i||"!=empty"===i||"==empty"===i?(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):null===UM.fields_groups.field.conditional.fieldsList[n].valueOptions?(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!1).show(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).hide(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!1).show())}),l(".um-conditional-rules-wrapper .um-conditional-rule-condition-col .um-conditional-rule-setting").trigger("change"),l(document.body).on("change",".um-field-row-title-input",function(e){l(this).closest(".um-field-row").find(".um-field-row-title").html(l(this).val()),UM.fields_groups.field.conditional.prepareFieldsList(l)}),l(document.body).on("change",".um-forms-field:not(.um-field-row-type-select)",function(e){let i=l(this).closest(".um-field-row");var t=i.data("field"),n=l(this).closest("div[data-tab]").data("tab");UM.fields_groups.field.prepareSettings(l,t,n)}),l(document.body).on("change",".um-field-row-type-select",function(e){var i;l(this).hasClass("disabled")||(l(this).addClass("disabled").prop("disabled",!0),i=l(this).closest(".um-field-row"),UM.fields_groups.field.changeType(i,l))}),l(document.body).on("change",".um-field-row-metakey-input",function(e){let i=wp.i18n.__("(no metakey)","ultimate-member");""!==l(this).val()&&(i=l(this).val()),l(this).closest(".um-field-row").find(".um-field-row-metakey").html(i)}),l(document.body).on("change",".um-field-row-multiple-input",function(){var e=l(this).closest(".um-field-row");um_multi_or_not(l(this),e)}),l(document.body).on("click",".um-admin-option-rows .um-admin-option-default",function(){var t=l(this).val();l(this).prop("checked",um_radioStates[t]=!um_radioStates[t]),l.each(l(".um-admin-option-rows .um-admin-option-default"),function(e,i){i.value!==t&&(um_radioStates[i.value]=!1)})}),l(document.body).on("click",".um-admin-option-row-add",function(){let e=l(this).parents(".um-field-row");var i=e.find(".um-field-row-multiple-input"),t=l(this).parents(".um-admin-option-row");let n=l(this).parents(".um-admin-option-rows");var o=n.siblings(".um-admin-option-row-placeholder")[0].outerHTML.replace("um-admin-option-row-placeholder","um-admin-option-row");let d=l("<div>").append(o);d.find(".um-admin-option-key").prop("disabled",!1),d.find(".um-admin-option-val").prop("disabled",!1),d.find(".um-admin-option-default").prop("disabled",!1),d.find(".um-admin-option-default-multi").prop("disabled",!1),d.find(".um-admin-option-row").insertAfter(t),um_recalculate_indexes(n),um_multi_or_not(i,e),um_admin_init_draggable(n)}),l(document.body).on("click",".um-admin-option-row-remove",function(){let e=l(this).parents(".um-admin-option-row");var i=l(this).parents(".um-admin-option-rows");if(1===l(this).parents(".um-admin-option-rows").find(".um-admin-option-row").length)return e.find(".um-admin-option-key").val(""),e.find(".um-admin-option-val").val(""),e.find(".um-admin-option-default").prop("checked",!1),void e.find(".um-admin-option-default-multi").prop("checked",!1);e.remove(),um_recalculate_indexes(i),um_admin_init_draggable(i)})});