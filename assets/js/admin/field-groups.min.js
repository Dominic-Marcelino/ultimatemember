var um_radioStates={};function um_recalculate_indexes(e){e.find(".um-admin-option-row").each(function(e){jQuery(this).show().attr("data-option_index",e).data("option_index",e);var i=jQuery(this).find(".um-admin-option-default-multi").data("base-name");jQuery(this).find(".um-admin-option-default-multi").attr("name",i+"["+e+"]"),jQuery(this).find(".um-admin-option-default").attr("value",e);i=jQuery(this).find(".um-admin-option-key").data("base-name");jQuery(this).find(".um-admin-option-key").attr("name",i+"["+e+"]");i=jQuery(this).find(".um-admin-option-val").data("base-name");jQuery(this).find(".um-admin-option-val").attr("name",i+"["+e+"]")}),um_radio_set_states(e)}function um_multi_or_not(e,i){let t=i.find(".um-admin-option-rows"),n=t.find(".um-admin-option-row");e.is(":checked")?(n.find(".um-admin-option-default-multi").prop("disabled",!1).show(),n.find(".um-admin-option-default").prop("disabled",!0).prop("checked",!1).hide()):(n.find(".um-admin-option-default-multi").prop("disabled",!0).prop("checked",!1).hide(),n.find(".um-admin-option-default").prop("disabled",!1).show()),um_radio_set_states(t)}function um_admin_init_draggable(t){t.sortable({items:".um-admin-option-row",forcePlaceholderSize:!0,update:function(e,i){um_recalculate_indexes(t)}}),um_radio_set_states(t)}function um_radio_set_states(e){um_radioStates={},jQuery.each(e.find(".um-admin-option-default"),function(e,i){um_radioStates[i.value]=jQuery(i).is(":checked")})}"undefined"==typeof um_admin_field_groups_data&&(um_admin_field_groups_data={}),"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof UM.fields_groups&&(UM.fields_groups={}),UM.fields_groups={tabs:{setActive:function(e,i){var t=e.data("tab");let n=e.parents(".um-field-row-tabs");n.find("div[data-tab]").removeClass("current"),e.addClass("current");let d=e.parents(".um-field-row-tabs").siblings(".um-field-row-tabs-content");d.find("div[data-tab]").removeClass("current"),d.find('div[data-tab="'+t+'"]').addClass("current")},compare:function(e,i){if(e.length!==i.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==i[t])return!1;return!0},compareDeep:function(e,n){if(typeof e!=typeof n)return!1;if("object"!=typeof e)return e===n;{if(!UM.fields_groups.tabs.compare(Object.keys(e),Object.keys(n)))return!1;let t=!0;return Object.entries(e).forEach(([e,i])=>{if(t=UM.fields_groups.tabs.compareDeep(i,n[e]),!t)return!1}),t}},reBuild:function(e,i,t){let n=e.children(".um-field-row-content").children(".um-field-row-tabs"),d=e.children(".um-field-row-content").children(".um-field-row-tabs-content");e=n.children("div[data-tab].current").data("tab");n.children("div[data-tab]").remove(),d.children("div[data-tab]").each(function(){i.includes(t(this).data("tab"))||t(this).remove()});let l="";for(var o=0;o<i.length;o++)l+='<div data-tab="'+i[o]+'">'+um_admin_field_groups_data.field_tabs[i[o]]+"</div>",d.children('div[data-tab="'+i[o]+'"]').length||d.append('<div data-tab="'+i[o]+'"></div>');n.html(l),n.children('div[data-tab="'+e+'"]').addClass("current"),d.children('div[data-tab="'+e+'"]').addClass("current")}},sortable:{init:function(e,i){e.sortable({items:".um-field-row",connectWith:"um-fields-column-content",placeholder:"um-field-row-placeholder",forcePlaceholderSize:!0,axis:"y",cursor:"move",handle:".um-field-row-move-link",update:function(){i(this).children(".um-field-row").each(function(e){e=+e+1;i(this).children(".um-field-row-order").val(e),i(this).children(".um-field-row-header").children(".um-field-row-move-link").text(e)})}}).on("sortupdate",function(){i(this).children(".um-field-row").each(function(e){e=+e+1;i(this).children(".um-field-row-order").val(e),i(this).children(".um-field-row-header").children(".um-field-row-move-link").text(e)})})},destroy:function(e){e.hasClass("ui-sortable")&&e.sortable("destroy")},reInit:function(e,i){UM.fields_groups.sortable.destroy(e),UM.fields_groups.sortable.init(e,i),e.trigger("sortupdate")}},field:{newIndex:0,settingsScreens:{},prepareSettings:function(n,e,d){n(".um-fields-column-content > .um-field-row").each(function(){let i=n(this).data("field"),t=n(this).children(".um-field-row-content").children(".um-field-row-tabs-content").children('div[data-tab="general"]').children(".um-form-table").children("tbody").children('.um-forms-line[data-field_id="type"]').find(".um-field-row-type-select").val();void 0!==e&&e!=i||("object"!=typeof UM.fields_groups.field.settingsScreens[i]&&(UM.fields_groups.field.settingsScreens[i]={}),"object"!=typeof UM.fields_groups.field.settingsScreens[i][t]&&(UM.fields_groups.field.settingsScreens[i][t]={}),n(this).children(".um-field-row-content").children(".um-field-row-tabs").children("div[data-tab]").each(function(){var e=n(this).data("tab");void 0!==d&&d!=e||(UM.fields_groups.field.settingsScreens[i][t][e]=n(this).closest(".um-field-row-tabs").siblings(".um-field-row-tabs-content").children('div[data-tab="'+e+'"]').children(".um-form-table")[0].outerHTML)}))})},sanitizeInput:function(e){return e.replace(/<(|\/|[^>\/bi]|\/[^>bi]|[^\/>][^>]+|\/[^>][^>]+)>/g,"")},checkIfMultiple:function(e){e.find(".um-field-row-multiple-input").length&&e.find(".um-field-row-multiple-input").trigger("change")},add:function(e,c){let i=e.closest(".um-fields-column").children(".um-fields-column-content"),t=e.closest(".um-field-row").data("field");void 0===t&&(t=0);let n=c(".um-field-row-template").clone().addClass("um-field-row").removeClass("um-field-row-template");UM.fields_groups.field.newIndex++;let f=UM.fields_groups.field.newIndex;n.data("field","new_"+f).attr("data-field","new_"+f);var d,e=i.find("> .um-field-row").length+1;n.find(".um-field-row-move-link").text(e);let l=n.find(".um-field-row-id");l.removeAttr("disabled").prop("disabled",!1);let o=l.attr("name");void 0!==o&&(d=o.replace("{index}",f),l.attr("name",d));let a=n.find(".um-field-row-parent-id");a.removeAttr("disabled").prop("disabled",!1);let r=a.attr("name");void 0!==r&&(d=r.replace("{index}",f),a.attr("name",d).val(t));let s=n.find(".um-field-row-order");s.val(e).removeAttr("disabled").prop("disabled",!1);let u=s.attr("name");void 0!==u&&(e=u.replace("{index}",f),s.attr("name",e)),n.find(".um-form-table").each(function(e){let i=c(this).data("extra-class");void 0!==i&&(i=i.replace("{index}",f),i&&c(this).removeAttr("class").addClass("form-table um-form-table "+i))}),n.find(".um-forms-line").each(function(e){let i=c(this).data("prefix");var t,n,d;void 0!==i&&(t=i.replace("new_index","new_"+f),c(this).data("prefix",t).attr("data-prefix",t));let l=c(this).find("label"),o=l.attr("for");void 0!==o&&(t=o.replace("new_index","new_"+f),l.attr("for",t));let a=c(this).find(".um-forms-field"),r=a.attr("id");void 0!==r&&(n=r.replace("new_index","new_"+f),a.attr("id",n));let s=a.attr("name");void 0!==s&&(n=s.replace("{index}",f),a.attr("name",n)),a.removeAttr("disabled").prop("disabled",!1);let u=a.siblings('input[type="hidden"]');if(u.length){let e=u.attr("id");void 0!==e&&(d=e.replace("new_index","new_"+f),u.attr("id",d));let i=u.attr("name");void 0!==i&&(d=i.replace("{index}",f),u.attr("name",d)),u.removeAttr("disabled").prop("disabled",!1)}});let m=n.data("field");n.find(".um-conditional-rule-field-col .um-conditional-rule-setting").each(function(){c(this).find("option").each(function(){c(this).is(":selected")||""===c(this).attr("value")||c(this).remove()});let t=c(this);var e=t.val();c.each(UM.fields_groups.field.conditional.fieldsList,function(e,i){t.find('option[value="'+e+'"]').length||m==e||t.find('option[value=""]').after('<option value="'+e+'">'+i.title+"</option>")});let i=t.find("option").detach();i.sort(function(e,i){return""===c(e).val()?0:c(e).text()>c(i).text()?1:c(e).text()<c(i).text()?-1:0}),t.append(i).val(e)}),i.append(n),1<i.children(".um-field-row").length?UM.fields_groups.sortable.reInit(i,c):(i.removeClass("hidden"),i.siblings(".um-fields-column-header").removeClass("hidden"),i.siblings(".um-fields-column-empty-content").addClass("hidden"),UM.fields_groups.sortable.init(i,c)),UM.fields_groups.field.conditional.prepareFieldsList(c)},toggleEdit:function(e,i){e.hasClass("um-field-row-edit-mode")?UM.fields_groups.field.hideEdit(e,i):UM.fields_groups.field.showEdit(e,i)},showEdit:function(e,i){e.addClass("um-field-row-edit-mode"),UM.fields_groups.field.checkIfMultiple(e)},hideEdit:function(e,i){e.removeClass("um-field-row-edit-mode")},duplicate:function(e,i){var t=e.closest(".um-fields-column-content"),n=e.closest(".um-field-row").clone();e.closest(".um-field-row").after(n),UM.fields_groups.sortable.reInit(t,i),UM.fields_groups.field.conditional.prepareFieldsList(i)},delete:function(e,i){let t=e.closest(".um-fields-column-content"),n=e.closest(".um-field-row");delete UM.fields_groups.field.settingsScreens[n.data("field")],n.remove(),t.find(".um-field-row").length?UM.fields_groups.sortable.reInit(t,i):(t.addClass("hidden"),t.siblings(".um-fields-column-header").addClass("hidden"),t.siblings(".um-fields-column-empty-content").removeClass("hidden"),UM.fields_groups.sortable.destroy(t)),UM.fields_groups.field.conditional.prepareFieldsList(i)},conditional:{fieldsList:{},prepareFieldsList:function(e){e(".um-fields-column-content").find(".um-field-row").each(function(){var t=e(this).data("field"),n=e(this).find(".um-field-row-type-select").val(),d=UM.fields_groups.field.sanitizeInput(e(this).find(".um-field-row-title-input").val());if(um_admin_field_groups_data.field_types[n].conditional_rules.length){let i={};um_admin_field_groups_data.field_types[n].conditional_rules.forEach(e=>{i[e]=um_admin_field_groups_data.conditional_rules[e]});let e=null;"choice"===um_admin_field_groups_data.field_types[n].category&&(e={}),UM.fields_groups.field.conditional.fieldsList[t]={type:n,title:d,conditions:i,valueOptions:e}}})},reset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-conditional-rules-wrapper .um-conditional-remove-rule").each(function(e){i(this).trigger("click")})},addRulesGroup:function(e,n){let i=e.siblings(".um-conditional-rules-group-template").clone().addClass("um-conditional-rules-group").removeClass("um-conditional-rules-group-template"),d=e.find(".um-conditional-rules-group").length;i.data("group-index",d).attr("data-group-index",d),i.find(".um-conditional-rule-setting").each(function(e){let i=n(this).attr("name");var t;void 0!==i&&(t=i.replace("{group_key}",d),n(this).attr("name",t),n(this).parents(".um-conditional-rule-field-col").length&&n(this).prop("disabled",!1).removeAttr("disabled"))}),e.find(".um-conditional-rules-wrapper-bottom").before(i),UM.fields_groups.field.conditional.showReset(e,n),UM.fields_groups.field.prepareSettings(n)},addRule:function(e,t){let i=e.parents(".um-conditional-rules-wrapper"),n=i.siblings(".um-conditional-rule-row-template").clone().addClass("um-conditional-rule-row").removeClass("um-conditional-rule-row-template"),d=e.parents(".um-conditional-rules-group").data("group-index"),l=e.parents(".um-conditional-rules-group").find(".um-conditional-rule-row").length;n.find(".um-conditional-rule-setting").each(function(e){let i=t(this).attr("name");if(void 0!==i){let e=i.replace("{group_key}",d);e=e.replace("{row_key}",l),t(this).attr("name",e),t(this).parents(".um-conditional-rule-field-col").length&&t(this).prop("disabled",!1).removeAttr("disabled")}}),e.after(n),UM.fields_groups.field.conditional.changeInputIndex(i,t),UM.fields_groups.field.conditional.showReset(i,t),UM.fields_groups.field.prepareSettings(t)},removeRule:function(e,i){let t=e.parents(".um-conditional-rules-wrapper"),n=t.find(".um-conditional-rule-row");if(1===n.length)return n.find(".um-conditional-rule-field-col select").val(""),n.find(".um-conditional-rule-condition-col select").val(""),n.find(".um-conditional-rule-value-col select,.um-conditional-rule-value-col input").val(""),void UM.fields_groups.field.conditional.hideReset(t,i);let d=e.parents(".um-conditional-rules-group");(1===d.find(".um-conditional-rule-row").length?d:e).remove(),UM.fields_groups.field.conditional.changeInputIndex(t,i),UM.fields_groups.field.prepareSettings(i)},changeInputIndex:function(e,n){let d=0;e.find(".um-conditional-rules-group").each(function(e){let t=0;n(this).find(".um-conditional-rule-row").each(function(e){n(this).find(".um-conditional-rule-setting").each(function(e){let i=n(this).data("base-name");if(void 0!==i){let e=i.replace("{group_key}",d);e=e.replace("{row_key}",t),n(this).attr("name",e)}}),t++}),n(this).data("group-index",d).attr("data-group-index",d),d++})},showReset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-field-row-reset-all-conditions").css({visibility:"visible"})},hideReset:function(e,i){let t=e.parents('.um-field-row-tabs-content > div[data-tab="conditional"]');t.find(".um-field-row-reset-all-conditions").css({visibility:"hidden"})},parseRules:function(e,i){let t=[];return e.find(".um-conditional-rule-field-col select,.um-conditional-rule-condition-col select,.um-conditional-rule-value-col select,.um-conditional-rule-value-col input").each(function(e){""!==i(this).val()&&t.push(i(this))}),t},isEmpty:function(e,i){return!UM.fields_groups.field.conditional.parseRules(e,i).length}},changeType:function(i,d){let l=i.data("field");var e=UM.fields_groups.field.conditional.fieldsList[l].type,t=um_admin_field_groups_data.field_types[e].settings;let n=i.children(".um-field-row-content").children(".um-field-row-tabs"),o=i.children(".um-field-row-content").children(".um-field-row-tabs-content"),a=o.children('div[data-tab="general"]').children(".um-form-table").children("tbody").children('.um-forms-line[data-field_id="type"]').find(".um-field-row-type-select"),r=a.val();var s=um_admin_field_groups_data.field_types[r].settings,u=Object.keys(t),c=Object.keys(s),e=a.find('option[value="'+r+'"]').html();if(i.find("> .um-field-row-header > .um-field-row-type").text(UM.fields_groups.field.sanitizeInput(e)),UM.fields_groups.tabs.compare(u,c)||UM.fields_groups.tabs.reBuild(i,c,d),n.children("div[data-tab]").addClass("disabled"),"object"==typeof UM.fields_groups.field.settingsScreens[l]&&"object"==typeof UM.fields_groups.field.settingsScreens[l][r])d.each(UM.fields_groups.field.settingsScreens[l][r],function(e,i){let t=o.children('div[data-tab="'+e+'"]'),n=d("<div>").append(i).find(".form-table");"conditional"===e&&n.find('[data-field_type="conditional_rules"]').html(t.find('[data-field_type="conditional_rules"]').html()),t.find(".um-field-row-static-setting").each(function(){n.find('[name="'+d(this).attr("name")+'"]').val(d(this).val())}),t.html(n[0].outerHTML)}),o.children('div[data-tab="general"]').children(".um-form-table").children("tbody").children('.um-forms-line[data-field_id="type"]').find(".um-field-row-type-select").removeClass("disabled").prop("disabled",!1),run_check_conditions(),UM.fields_groups.field.conditional.prepareFieldsList(d),n.children("div[data-tab]").removeClass("disabled"),UM.fields_groups.field.checkIfMultiple(i);else{if(!UM.fields_groups.tabs.compareDeep(t.general,s.general)){o.children('div[data-tab="general"]').find("> .form-table > tbody > .um-forms-line .um-forms-field:not(.um-field-row-static-setting)").closest(".um-forms-line").remove();var f=Object.keys(s.general).length-2;if(0<f){let e=0;for(;e<f;)o.children('div[data-tab="general"]').children(".form-table").children("tbody").append('<tr class="um-forms-line um-forms-skeleton"><th><span class="um-skeleton-box" style="width:100%;height:20px;"></span></th><td><span class="um-skeleton-box" style="width:100%;height:40px;margin-bottom:4px;"></span><span class="um-skeleton-box" style="width:100%;height:14px;"></span></td></tr>'),e++}}wp.ajax.send("um_fields_groups_get_settings_form",{data:{field_id:l,type:r,nonce:um_admin_scripts.nonce},success:function(e){"object"!=typeof UM.fields_groups.field.settingsScreens[l]&&(UM.fields_groups.field.settingsScreens[l]={}),"object"!=typeof UM.fields_groups.field.settingsScreens[l][r]&&(UM.fields_groups.field.settingsScreens[l][r]={}),d.each(e.fields,function(e,i){UM.fields_groups.field.settingsScreens[l][r][e]=i;let t=d("<div>").append(i).find(".form-table"),n=o.children('div[data-tab="'+e+'"]');"conditional"===e&&t.find('[data-field_type="conditional_rules"]').html(n.find('[data-field_type="conditional_rules"]').html()),n.find(".um-field-row-static-setting").each(function(){t.find('[name="'+d(this).attr("name")+'"]').val(d(this).val())}),n.html(t[0].outerHTML)}),o.children('div[data-tab="general"]').children(".um-form-table").children("tbody").children('.um-forms-line[data-field_id="type"]').find(".um-field-row-type-select").removeClass("disabled").prop("disabled",!1),run_check_conditions(),UM.fields_groups.field.conditional.prepareFieldsList(d),n.children("div[data-tab]").removeClass("disabled"),UM.fields_groups.field.checkIfMultiple(i)},error:function(e){console.error(e)}})}}}},jQuery(function(o){o(".um-field-row > .um-field-row-id").each(function(){""===o(this).val()&&UM.fields_groups.field.newIndex++});let e=o("#message[data-error-field]");var i;0<e.length&&(i=e.data("error-field"),o("#"+i).addClass("um-error"),e[0].scrollIntoView());let t=o(".um-fields-column-content");t.each(function(){UM.fields_groups.sortable.init(o(this),o)}),UM.fields_groups.field.conditional.prepareFieldsList(o),t.find(".um-field-row").each(function(){let n=o(this).data("field");o(this).find(".um-conditional-rule-field-col .um-conditional-rule-setting").each(function(){o(this).find("option").each(function(){o(this).is(":selected")||""===o(this).attr("value")||o(this).remove()});let t=o(this);var e=t.val();o.each(UM.fields_groups.field.conditional.fieldsList,function(e,i){t.find('option[value="'+e+'"]').length||n==e||t.find('option[value=""]').after('<option value="'+e+'">'+i.title+"</option>")});let i=t.find("option").detach();i.sort(function(e,i){return""===o(e).val()?0:o(e).text()>o(i).text()?1:o(e).text()<o(i).text()?-1:0}),t.append(i).val(e)})}),UM.fields_groups.field.prepareSettings(o),console.log(UM.fields_groups.field.settingsScreens),o(document.body).on("click",".um-field-row",function(e){var i;void 0!==e.target&&e.target.classList.contains("um-field-row-toggle-edit")&&(e.preventDefault(),i=o(this),UM.fields_groups.field.toggleEdit(i,o),e.stopPropagation())}),o(document.body).on("click",".um-field-row-action-edit",function(e){e.preventDefault();e=o(this).closest(".um-field-row");UM.fields_groups.field.toggleEdit(e,o)}),o(document.body).on("click",".um-field-row-action-delete",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure you want to delete this field?","ultimate-member"))&&UM.fields_groups.field.delete(o(this),o)}),o(document.body).on("click",".um-field-row-action-duplicate",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure you want to duplicate this field?","ultimate-member"))&&UM.fields_groups.field.duplicate(o(this),o)}),o(document.body).on("click",".um-add-field-to-column",function(e){e.preventDefault(),UM.fields_groups.field.add(o(this),o)}),o(document.body).on("click",".um-field-row-tabs > div[data-tab]:not(.current)",function(e){e.preventDefault(),o(this).hasClass("disabled")||UM.fields_groups.tabs.setActive(o(this),o)}),o(document.body).on("click",".um-field-row-reset-all-conditions",function(e){e.preventDefault(),confirm(wp.i18n.__("Are you sure?","ultimate-member"))&&UM.fields_groups.field.conditional.reset(o(this),o)}),o(document.body).on("click",".um-conditional-add-rules-group",function(e){e.preventDefault();e=o(this).parents(".um-conditional-rules-wrapper");UM.fields_groups.field.conditional.addRulesGroup(e,o)}),o(document.body).on("click",".um-conditional-add-rule",function(e){e.preventDefault();e=o(this).parents(".um-conditional-rule-row");UM.fields_groups.field.conditional.addRule(e,o)}),o(document.body).on("click",".um-conditional-remove-rule",function(e){e.preventDefault();e=o(this).parents(".um-conditional-rule-row");UM.fields_groups.field.conditional.removeRule(e,o)}),o(document.body).on("change",".um-conditional-rule-field-col select, .um-conditional-rule-condition-col select, .um-conditional-rule-value-col select,.um-conditional-rule-value-col input",function(e){var i=o(this).parents('.um-field-row-tabs-content > div[data-tab="conditional"]');UM.fields_groups.field.conditional.isEmpty(i,o)?UM.fields_groups.field.conditional.hideReset(o(this),o):UM.fields_groups.field.conditional.showReset(o(this),o)}),o(document.body).on("change",".um-conditional-rule-field-col .um-conditional-rule-setting",function(e){var i=o(this).val();let n=o(this).parents(".um-conditional-rule-fields");if(""===i)n.find(".um-conditional-rule-condition-col .um-conditional-rule-setting").prop("disabled",!0),n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide();else{let t=n.find(".um-conditional-rule-condition-col .um-conditional-rule-setting");t.prop("disabled",!1),t.find("option").each(function(){""!==o(this).attr("value")&&o(this).remove()});t.val();o.each(UM.fields_groups.field.conditional.fieldsList[i].conditions,function(e,i){t.find('option[value="'+e+'"]').length||t.find('option[value=""]').after('<option value="'+e+'">'+i+"</option>")});let e=t.find("option").detach();e.sort(function(e,i){return""===o(e).val()?0:o(e).text()>o(i).text()?1:o(e).text()<o(i).text()?-1:0}),t.append(e).val(""),null===UM.fields_groups.field.conditional.fieldsList[i].valueOptions?(n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):(n.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).hide(),n.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).show())}}),o(document.body).on("change",".um-conditional-rule-condition-col .um-conditional-rule-setting",function(e){var i=o(this).val();let t=o(this).parents(".um-conditional-rule-fields");var n=t.find(".um-conditional-rule-field-col .um-conditional-rule-setting").val();""===i||"!=empty"===i||"==empty"===i?(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).show(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):null===UM.fields_groups.field.conditional.fieldsList[n].valueOptions?(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!1).show(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!0).hide()):(t.find(".um-conditional-rule-value-col input.um-conditional-rule-setting").prop("disabled",!0).hide(),t.find(".um-conditional-rule-value-col select.um-conditional-rule-setting").prop("disabled",!1).show())}),o(".um-conditional-rules-wrapper .um-conditional-rule-condition-col .um-conditional-rule-setting").trigger("change"),o(document.body).on("change",".um-forms-field:not(.um-field-row-type-select)",function(e){let i=o(this).closest(".um-field-row");var t=i.data("field"),n=o(this).closest("div[data-tab]").data("tab");UM.fields_groups.field.prepareSettings(o,t,n)}),o(document.body).on("change",".um-field-row-type-select",function(e){var i;o(this).hasClass("disabled")||(o(this).addClass("disabled").prop("disabled",!0),i=o(this).closest(".um-field-row"),UM.fields_groups.field.changeType(i,o))}),o(document.body).on("change",".um-field-row-title-input",function(e){var i=o(this).val();o(this).closest(".um-field-row").find("> .um-field-row-header > .um-field-row-title").text(UM.fields_groups.field.sanitizeInput(i)),UM.fields_groups.field.conditional.prepareFieldsList(o)}),o(document.body).on("change",".um-field-row-metakey-input",function(e){let i=wp.i18n.__("(no metakey)","ultimate-member");""!==o(this).val()&&(i=o(this).val()),o(this).closest(".um-field-row").find("> .um-field-row-header > .um-field-row-metakey").text(UM.fields_groups.field.sanitizeInput(i))}),o(document.body).on("change",".um-field-row-multiple-input",function(){var e=o(this).closest(".um-field-row");um_multi_or_not(o(this),e)}),o(document.body).on("click",".um-admin-option-rows .um-admin-option-default",function(){var t=o(this).val();o(this).prop("checked",um_radioStates[t]=!um_radioStates[t]),o.each(o(".um-admin-option-rows .um-admin-option-default"),function(e,i){i.value!==t&&(um_radioStates[i.value]=!1)})}),o(document.body).on("click",".um-admin-option-row-add",function(){let e=o(this).parents(".um-field-row");var i=e.find(".um-field-row-multiple-input"),t=o(this).parents(".um-admin-option-row");let n=o(this).parents(".um-admin-option-rows");var d=n.siblings(".um-admin-option-row-placeholder")[0].outerHTML.replace("um-admin-option-row-placeholder","um-admin-option-row");let l=o("<div>").append(d);l.find(".um-admin-option-key").prop("disabled",!1),l.find(".um-admin-option-val").prop("disabled",!1),l.find(".um-admin-option-default").prop("disabled",!1),l.find(".um-admin-option-default-multi").prop("disabled",!1),l.find(".um-admin-option-row").insertAfter(t),um_recalculate_indexes(n),um_multi_or_not(i,e),um_admin_init_draggable(n)}),o(document.body).on("click",".um-admin-option-row-remove",function(){let e=o(this).parents(".um-admin-option-row");var i=o(this).parents(".um-admin-option-rows");if(1===o(this).parents(".um-admin-option-rows").find(".um-admin-option-row").length)return e.find(".um-admin-option-key").val(""),e.find(".um-admin-option-val").val(""),e.find(".um-admin-option-default").prop("checked",!1),void e.find(".um-admin-option-default-multi").prop("checked",!1);e.remove(),um_recalculate_indexes(i),um_admin_init_draggable(i)})});