"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof UM.frontend&&(UM.frontend={}),UM.frontend={cropper:{obj:null,init:function(){let r=jQuery(".um-modal .um-profile-photo-crop-wrapper img").first();if(r.length&&""!==r.attr("src")){UM.frontend.cropper.obj&&UM.frontend.cropper.destroy();var t=jQuery(".um-modal .um-profile-photo-crop-wrapper"),e=r.parent().data("crop"),n=r.parent().data("min_width"),d=r.parent().data("min_height"),i=r.parent().data("ratio"),a=jQuery(".um-modal").find("#um_upload_single").data("ratio"),p=(a&&(i=a.split(":")[0]),jQuery(window).height()-(jQuery(".um-modal-buttons-wrapper").height()+20)-80-jQuery(".um-modal-header:visible").height()),a=new Image;a.src=r.attr("src"),new ResizeObserver((o,e)=>{e.disconnect(),r.css({height:"auto"}),t.css({height:"auto"}),t.css({height:p+"px","max-height":p+"px"}),r.css({height:"auto"})}).observe(a);let o;"square"===e?o={minWidth:n,minHeight:d,dragCrop:!1,aspectRatio:1,zoomable:!1,rotatable:!1,dashed:!1}:"cover"===e?(0<Math.round(n/i)&&(d=Math.round(n/i)),o={minWidth:n,minHeight:d,dragCrop:!1,aspectRatio:i,zoomable:!1,rotatable:!1,dashed:!1}):"user"===e&&(o={minWidth:n,minHeight:d,dragCrop:!0,aspectRatio:"auto",zoomable:!1,rotatable:!1,dashed:!1}),o&&(UM.frontend.cropper.obj=new Cropper(r[0],o))}},destroy:function(){0<jQuery(".cropper-container").length&&UM.frontend.cropper.obj&&(UM.frontend.cropper.obj.destroy(),UM.frontend.cropper.obj=null)}},dropdown:{init:function(){jQuery(".um-dropdown").um_dropdownMenu()}}},wp.hooks.addAction("um_remove_modal","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_after_removing_preview","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_window_resize","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_member_directory_loaded","um_common_frontend",function(){UM.frontend.dropdown.init()}),wp.hooks.addAction("um_member_directory_build_template","um_common_frontend",function(){UM.frontend.dropdown.init()}),jQuery(document).ready(function(){UM.frontend.dropdown.init()});