"object"!=typeof window.UM&&(window.UM={}),"object"!=typeof UM.frontend&&(UM.frontend={}),UM.frontend={cropper:{obj:null,init:function(){let t=jQuery(".um-modal .um-profile-photo-crop-wrapper img").first();if(t.length&&""!==t.attr("src")){UM.frontend.cropper.obj&&UM.frontend.cropper.destroy();var n=jQuery(".um-modal .um-profile-photo-crop-wrapper"),o=t.parent().data("crop"),r=t.parent().data("min_width"),i=t.parent().data("min_height"),s=t.parent().data("ratio"),a=jQuery(".um-modal").find("#um_upload_single").data("ratio"),u=(a&&(s=a.split(":")[0]),jQuery(window).height()-(jQuery(".um-modal-buttons-wrapper").height()+20)-80-jQuery(".um-modal-header:visible").height()),a=new Image;a.src=t.attr("src"),new ResizeObserver((e,o)=>{o.disconnect(),t.css({height:"auto"}),n.css({height:"auto"}),n.css({height:u+"px","max-height":u+"px"}),t.css({height:"auto"})}).observe(a);let e;"square"===o?e={minWidth:r,minHeight:i,dragCrop:!1,aspectRatio:1,zoomable:!1,rotatable:!1,dashed:!1}:"cover"===o?(0<Math.round(r/s)&&(i=Math.round(r/s)),e={minWidth:r,minHeight:i,dragCrop:!1,aspectRatio:s,zoomable:!1,rotatable:!1,dashed:!1}):"user"===o&&(e={minWidth:r,minHeight:i,dragCrop:!0,aspectRatio:"auto",zoomable:!1,rotatable:!1,dashed:!1}),e&&(UM.frontend.cropper.obj=new Cropper(t[0],e))}},destroy:function(){0<jQuery(".cropper-container").length&&UM.frontend.cropper.obj&&(UM.frontend.cropper.obj.destroy(),UM.frontend.cropper.obj=null)}},dropdown:{init:function(){jQuery(".um-dropdown").um_dropdownMenu()}},toggleElements:{init:function(){jQuery(document.body).on("click","[data-um-toggle]",function(e){e.preventDefault();let t=jQuery(this);if(!t.data("um-toggle-ignore")){t.data("um-toggle-ignore",!0);let o=jQuery(t.data("um-toggle"));(o=wp.hooks.applyFilters("um_toggle_block",o,t)).toggleClass("um-toggle-block-collapsed"),t.toggleClass("um-toggle-button-active");function n(e){o.find(".um-toggle-block-inner").toggleClass("um-visible"),e||t.data("um-toggle-ignore",!1)}return o.hasClass("um-toggle-block-collapsed")?(n(!0),setTimeout(function(){t.data("um-toggle-ignore",!1)},500)):setTimeout(n,500),!1}})}},progressBar:{init:function(){jQuery(".um-progress-bar").each(function(){jQuery(this).find(".um-progress-bar-inner").css("width",jQuery(this).data("value")+"%")})},set:function(e,o){e.data("value",o).attr("title",o+"%"),e.find(".um-progress-bar-inner").css("width",o+"%").attr("title",o+"%"),e.siblings(".um-progress-bar-label").text(o+"%")}},responsive:{resolutions:{xs:320,s:576,m:768,l:992,xl:1024},getSize:function(e){var o,t=UM.frontend.responsive;for(o in t.resolutions)if(t.resolutions.hasOwnProperty(o)&&t.resolutions[o]===e)return o;return!1},setClass:function(){let r=UM.frontend.responsive,i=Object.values(r.resolutions);i.sort(function(e,o){return o-e}),jQuery(".um").each(function(){let n=jQuery(this);if(!n.hasClass("um-not-responsive")){let t=n.outerWidth();jQuery.each(i,function(e){e=r.getSize(i[e]);n.removeClass("um-ui-"+e)}),jQuery.each(i,function(e){var o=r.getSize(i[e]);return t>=i[e]||"xs"===o&&t<=i[e]?(n.addClass("um-ui-"+o),!1):void 0})}})}},uploaders:[],url:{parseData:function(){let o={};let t=window.location.search.substring(1).split("&");return jQuery.each(t,function(e){e=t[e].split("=");o[e[0]]=e[1]}),o}}},wp.hooks.addAction("um_remove_modal","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_after_removing_preview","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_window_resize","um_common_frontend",function(){UM.frontend.cropper.destroy()}),wp.hooks.addAction("um_member_directory_loaded","um_common_frontend",function(){UM.frontend.dropdown.init()}),wp.hooks.addAction("um_member_directory_build_template","um_common_frontend",function(){UM.frontend.dropdown.init()}),jQuery(document).ready(function(e){UM.frontend.dropdown.init(),UM.frontend.toggleElements.init(),UM.frontend.progressBar.init(),e(window).on("resize",function(){UM.frontend.responsive.setClass()})}),jQuery(window).on("load",function(){UM.frontend.responsive.setClass()});