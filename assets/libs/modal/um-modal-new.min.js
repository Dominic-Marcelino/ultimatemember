!function(s){s.fn.umModalN=function(t){s.extend({color:"#556b2f",backgroundColor:"white"},t);return console.log(this),this.each(function(t){console.log(t),console.log(this)}),this}}(jQuery),function(r,u){var s,g,f,y,w=!1,v={href:null,win_w:r(window).width(),win_h:r(window).height(),title:"&nbsp;",width:!1,height:!1,class:"",show_nav:!0,self_init:!0},x=("undefined"==typeof sb_opened&&(sb_opened=!1),{init:function(t){if(0===jQuery(this).length)return!1;(s=r.extend({},v,t)).uniq_id=parseInt(99*Math.random()+1),this.data("options",s),"gallery"==this.data("options").type?this.each(function(){r(this).addClass("shutter_box_item")}):"lightbox"==this.data("options").type&&r(this).addClass("shutter_box_lightbox"),this.data("options").self_init&&this.click(function(t){if(g)return!1;g=!0,x.before_show.apply(r(this));var s=this,o=0,i=setInterval(function(){sb_opened||(x.show.apply(r(s)),clearInterval(i)),100<++o&&clearInterval(i)},500);t.preventDefault(),t.stopPropagation()})},before_show:function(t){"function"==typeof this.data("options").onSBLoad&&this.data("options").onSBLoad.apply(r(this))},after_load_content:function(t){"function"==typeof this.data("options").afterLoad&&this.data("options").afterLoad.apply(r(this))},showBackground:function(){var t=r(".sb_background");t.hasClass("hidden")&&t.height(r(document).height()).toggleClass("hidden").fadeTo("slow",.7)},showPreLoader:function(){0==r(".sb_background").length?r("body").append('<div class="sb_background hidden"><div class="sb_loader"></div></div>'):x.showLoader.apply(r(this)),x.showBackground.apply(r(this)),w=!0},hidePreLoader:function(){r(".sb_background").fadeTo("slow",0,function(){r(this).remove()})},show:function(t){var s,o,i,e,n,a,d,h,p,l,b=this,c=r("body"),_=this.data("options");if(w&&0!=r(".sb_background").length||c.append('<div class="sb_background hidden"></div>'),"lightbox"==this.data("options").view_type?(h=this.data("options").title,0<r(".sb_lightbox").length&&(r(".sb_lightbox").hide(),x.hideLoader.apply(r(this))),(s=r('<div class="sb_lightbox '+this.data("options").class+'"></div>').appendTo("body")).html('<div class="sb_lightbox_content"><div class="sb_lightbox_content_header"><div class="sb_lightbox_content_title">'+h+'</div><div class="sb_lightbox_header_actions_line"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_lightbox_content_wrapper"><div class="sb_lightbox_content_body"></div></div></div>'),o=r(".sb_lightbox:last"),i=this.data("options").width,e=this.data("options").height,"ajax"==this.data("options").type&&(i?o.css({width:i}):o.css({width:"1px"}),e?o.css({height:e}):o.css({height:"1px"}),o.css({left:(r(window).width()-o.width())/2+"px",top:(r(window).height()-o.height())/2+"px"})),r(window).bind("resize.number"+r(".sb_lightbox").length,function(){x.resize.apply(r(b))}),w?(r(".sb_background > .sb_loader").remove(),w=!1):x.showBackground.apply(r(this))):("popup"==this.data("options").view_type?c.append('<div class="sb_basic sb_clean hidden"><div class="sb_content_modal"><div class="sb_popup"><div class="sb_popup_content"><div class="sb_popup_content_header"><div class="sb_popup_header_actions_line"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_popup_content_body"><div class="sb_popup_content_navigation"><button type="button" class="sb_button sb_popup_nav_back" data-current_step="1" disabled="true"><span class="sb_fonticon"></span></button><ul class="sb_popup_nav_breadcrumbs"></ul></div><div class="sb_popup_content_container"><div class="sb_popup_container_preview"><div class="sb_loader_inner"></div></div><div class="sb_popup_container_sidebar"><div class="sb_popup_sidebar_content"><div class="sb_loader_inner"></div></div></div></div></div></div></div></div></div>'):c.append('<div class="sb_basic sb_clean hidden"><div class="sb_content"><div class="sb_content_header"><div class="sb_tools"><button type="button" class="sb_button sb_close"><span class="sb_fonticon"></span></button></div></div><div class="sb_content_body"></div><div class="sb_content_footer"></div></div></div>'),r(".sb_background, .sb_basic").height(r(document).height()).toggleClass("hidden").fadeTo("slow",.95)),"gallery"==this.data("options").type?(h=r("a.shutter_box_item"),n=this.data("options").show_nav,y=h.index(this),f===u&&(x.showLoader.apply(r(this)),f={}),h.each(function(t){f[t]=new Image,f[t].onload=function(){f[t].onload=null,f[t].kx=parseFloat(f[t].width/v.win_w),f[t].ky=parseFloat(f[t].height/v.win_h),(1<f[t].kx||1<f[t].ky)&&(f[t].kx>f[t].ky?(f[t].width=parseInt(parseInt(f[t].width)/f[t].kx),f[t].height=parseInt(parseInt(f[t].height)/f[t].kx)):f[t].kx<f[t].ky&&(f[t].width=parseInt(parseInt(f[t].width)/f[t].ky),f[t].height=parseInt(parseInt(f[t].height)/f[t].ky))),t==y&&(n&&x.showNav.apply(r(b)),x.footerLoad.apply(r(b)),1<f[t].kx||1<f[t].ky?r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+'px; position: absolute;">'):r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+"px; position: fixed; margin:-"+f[y].height/2+'px auto 0px; top:50%;">'),x.hideLoader.apply(r(this)))},f[t].src=r(this).attr("href")})):"inline"==this.data("options").type?(c=this.data("options").href,a=r((h=c)&&"string"===r.type(h)?c.replace(/.*(?=#[^\s]+$)/,""):c),r('<div class="shutter_box_placeholder'+this.data("options").uniq_id+'"></div>').insertAfter(a).hide(),a=r("<div>").html(a).find(c).show(),"lightbox"==this.data("options").view_type?(r(".sb_lightbox_content_body:last").append(a),("function"==typeof _.inlineBeforeLoad?_:x).inlineBeforeLoad.apply(r(this)),i?o.css({width:i}):o.css({width:r(".sb_lightbox_content_body:last").children().width()+25+"px"}),e?o.css({height:e}):o.css({height:r(".sb_lightbox_content_body:last").children().height()+60+"px"}),o.css({left:(r(window).width()-o.width())/2+"px",top:(r(window).height()-o.height())/2+"px"}),x.resize.apply(r(b))):(r(".sb_content_body").append('<div class="sb_html_content"></div>'),r(".sb_html_content").append(a))):"iframe"==this.data("options").type?(a='<iframe class="shutterbox-iframe" style="width:100%;height:100%;float:left;margin:0;padding:0;" scrolling="auto" src="'+this.attr("href")+'"></iframe>',r(".sb_lightbox_content_body").append(a),i?o.css({width:i}):o.css({width:r(".sb_lightbox_content_body").children().width()+25+"px"}),e?o.css({height:e}):o.css({height:r(".sb_lightbox_content_body").children().height()+60+"px"}),o.css({left:(r(window).width()-o.width())/2+"px",top:(r(window).height()-o.height())/2+"px"})):"ajax"==this.data("options").type?(d===u&&(x.showLoader.apply(r(this)),d=""),c="",c=("function"==typeof _.setAjaxData?_:x).setAjaxData.apply(r(this),[_.ajax_data]),jQuery.ajax({type:"POST",url:_.href,data:c,dataType:_.dataType,timeout:2e4,success:function(t){"popup"==_.view_type||"lightbox"==_.view_type?("function"==typeof _.setAjaxResponse&&_.setAjaxResponse.apply(r(this),[t]),"lightbox"==_.view_type&&(i?o.css({width:i}):o.css({width:r(".sb_lightbox_content_body:last").children().width()+25+"px"}),e?o.css({height:e}):o.css({height:r(".sb_lightbox_content_body:last").children().height()+60+"px"}),o.css({left:(r(window).width()-o.width())/2+"px",top:(r(window).height()-o.height())/2+"px"})),x.hideLoader.apply(r(this))):(x.hideLoader.apply(r(this)),d="function"==typeof _.responseLoad&&"json"==_.dataType?_.responseLoad.apply(r(this),t):t,"function"==typeof _.beforeAjaxContent&&(d=_.beforeAjaxContent.apply(r(this))+d),r(".sb_content_body").append('<div class="sb_html_content">'+d+"</div>"),"function"==typeof _.afterLoadHTML&&"html"==_.dataType&&_.afterLoadHTML.apply(r(this)),x.footerLoad.apply(r(b)))},error:function(t,s,o){x.hideLoader.apply(r(this)),d="timeout"===s?"Timeout, try again.":"Error, try again later.",r(".sb_content_body").append('<div class="sb_html_content">'+d+"</div>")}})):"function"==this.data("options").type&&"function"==typeof this.data("options").setContent&&this.data("options").setContent.apply(r(this)),"lightbox"==this.data("options").view_type?(r(".sb_lightbox").length<=1?r(".sb_background").click(function(t){x.close.apply(r(b))}):(p=r._data(r(".sb_background").get(0),"events").click[0].handler,r(".sb_background").unbind("click"),r(".sb_background").click(function(t){x.close.apply(r(b)),r(".sb_background").unbind("click"),r(".sb_background").click(p)})),s.find(".sb_close").click(function(){x.close.apply(r(b))})):r(".sb_background, .sb_close").click(function(t){x.close.apply(r(b))}),r(".sb_lightbox").length<=1&&r(document).keydown(function(t){27===t.keyCode&&(x.close.apply(r(b)),r(".sb_lightbox").length<=1)&&r(this).unbind(t)}),r(".sb_content_modal").click(function(t){(!(0<jQuery(this).find(".sb_popup").length)||0==jQuery(".sb_popup").has(t.target).length)&&x.close.apply(r(b))}),r(".sb_basic").mousemove(function(){void 0!==l&&clearTimeout(l),r(this).removeClass("sb_clean"),r(".sb_close").is(":hover")||0<r(".sb_left").length&&r(".sb_left").is(":hover")||0<r(".sb_right").length&&r(".sb_right").is(":hover")||0<r(".sb_footer_right").length&&r(".sb_footer_right").is(":hover")||(l=setTimeout(function(){r(".sb_basic").addClass("sb_clean")},1500))}),"object"==typeof this.data("options").buttons)for(button in this.data("options").buttons)jQuery("body").on("click",".sb_"+button,this.data("options").buttons[button].handler);sb_opened=!(g=!1),x.after_load_content.apply(r(this))},showLoader:function(){("lightbox"==this.data("options").view_type?r(".sb_lightbox_content_body"):r(".sb_content_body")).append('<div class="sb_loader"></div>')},hideLoader:function(){r(".sb_loader").remove()},resize:function(t){var s=this.data("options"),o=r(".sb_lightbox:last");o.width()+.2*r(window).width()>r(window).width()?o.css({width:.9*r(window).width()+"px"}):s.width?o.css({width:s.width}):o.css({width:o.find(".sb_lightbox_content_body:last").children().width()+25+"px"}),o.find(".sb_lightbox_content_body:last").children().height()+60+.2*r(window).height()>r(window).height()?o.css({height:.9*r(window).height()+"px"}):s.height?o.css({height:s.height}):o.css({height:o.find(".sb_lightbox_content_body:last").children().height()+60+"px"}),o.css({left:(r(window).width()-o.width())/2+"px",top:(r(window).height()-o.height())/2+"px"})},showNav:function(){var t=this;"gallery"==this.data("options").type&&(r(".sb_content_header").append('<div class="sb_navigation_left"><button type="button" class="sb_button sb_left"><span class="sb_fonticon"></span></button></div><div class="sb_navigation_right"><button type="button" class="sb_button sb_right"><span class="sb_fonticon"></span></button></div>'),r(".sb_left").click(function(){x.prev.apply(r(t))}),r(".sb_right").click(function(){x.next.apply(r(t))}))},prev:function(){if(f[y-1]===u)return!1;y-=1,r(".sb_image").remove(),r(".sb_content_footer").html(""),1<f[y].kx||1<f[y].ky?r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+'px; position: absolute;">'):r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+"px; position: fixed; margin:-"+f[y].height/2+'px auto 0px; top:50%;">'),x.footerLoad.apply(r(this)),f[y+1]!==u&&r(".sb_right").attr("disabled",!1),f[y-1]===u&&r(".sb_left").attr("disabled",!0)},next:function(){if(f[y+1]===u)return!1;y+=1,r(".sb_image").remove(),r(".sb_content_footer").html(""),1<f[y].kx||1<f[y].ky?r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+'px; position: absolute;">'):r(".sb_content_body").append('<img class="sb_image" src="'+f[y].src+'" alt="" style="width:'+f[y].width+"px; height:"+f[y].height+"px; position: fixed; margin:-"+f[y].height/2+'px auto 0px; top:50%;">'),x.footerLoad.apply(r(this)),f[y-1]!==u&&r(".sb_left").attr("disabled",!1),f[y+1]===u&&r(".sb_right").attr("disabled",!0)},footerLoad:function(){var t=this.data("options");if(footer_content="",footer_content+='<div class="sb_footer_right">',"object"==typeof this.data("options").buttons)for(button in this.data("options").buttons)"function"==typeof this.data("options").buttons[button].condition&&this.data("options").buttons[button].condition.apply(jQuery(this))&&"constant"==this.data("options").buttons[button].type&&(footer_content+='<button type="button" class="sb_'+button+'"><span class="sb_fonttext">'+this.data("options").buttons[button].title+"</span></button>");"function"==typeof this.data("options").onFooterLoad&&(footer_content+=this.data("options").onFooterLoad.apply(r(this),[t,y])),footer_content+="</div>",r(".sb_content_footer").append(footer_content)},setAjaxData:function(t){return t},inlineBeforeLoad:function(t){return t},close:function(){var t=this.data("options");"function"==typeof t.onClose&&t.onClose.apply(r(this)),"lightbox"==this.data("options").view_type?1<r(".sb_lightbox").length?(r(".sb_lightbox:last").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&r(".shutter_box_placeholder"+t.uniq_id).replaceWith(r(t.href).hide()),r(window).unbind("resize.number"+r(".sb_lightbox").length),r(".sb_lightbox:last").remove(),r(".sb_lightbox:last").show()},500)):(r(".sb_background, .sb_lightbox").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&r(".shutter_box_placeholder"+t.uniq_id).replaceWith(r(t.href).hide()),r(".sb_background, .sb_lightbox").remove(),sb_opened=!1},500),x.destroy.apply(r(this))):(r(".sb_background, .sb_basic").fadeTo("slow",0),setTimeout(function(){"inline"==t.type&&r(".shutter_box_placeholder"+t.uniq_id).replaceWith(r(t.href).hide()),r(".sb_background, .sb_basic").remove(),sb_opened=!1},500),x.destroy.apply(r(this))),"function"==typeof t.afterClose&&t.afterClose.apply(r(this))},destroy:function(){r(".sb_background, .sb_close, .sb_left, .sb_right").unbind("click"),r(".sb_basic").unbind("mousemove"),r("a.shutter_box_item").unbind("each")}});r.fn.shutter_box=function(t){return x[t]?x[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void r.error("Method "+t+" does not exist for jQuery.shutter_box plugin"):x.init.apply(this,arguments)}}(jQuery);