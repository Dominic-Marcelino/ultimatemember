@import "selectors"
@import "mixins"
@import "box"
@import "colors"
@import "typography"

+keyframes(um-svg-spin)
  0%
    -ms-transform: rotate(0deg)
    -moz-transform: rotate(0deg)
    -webkit-transform: rotate(0deg)
    transform: rotate(0deg)
  100%
    -ms-transform: rotate(360deg)
    -moz-transform: rotate(360deg)
    -webkit-transform: rotate(360deg)
    transform: rotate(360deg)

.#{$prefix}ajax-spinner-svg
  position: relative
  svg
    position: absolute
    top: 0
    left: 0
    -webkit-animation: um-svg-spin 1s linear infinite
    -moz-animation: um-svg-spin 1s linear infinite
    animation: um-svg-spin 1s linear infinite
  &.#{$prefix}ajax-spinner-s
    width: 24px
    height: 24px
    svg
      transform: scale(0.5)
      width: 24px
      height: 24px
  &.#{$prefix}ajax-spinner-m
    width: 32px
    height: 32px
  &.#{$prefix}ajax-spinner-l
    width: 48px
    height: 48px
  &.#{$prefix}ajax-spinner-xl
    width: 66px
    height: 66px

.um
  +flex( column, flex-start, stretch, nowrap )

  // Buttons
  .#{$prefix}button // button has predefined styles for default secondary-gray
    border-radius: $radius-l
    text-align: center
    font-size: inherit
    font-weight: $bold-weight
    box-shadow: $shadow-xs
    background-color: $button-bg
    color: $button-color
    border: 1px solid $button-border-color
    cursor: pointer
    &:hover
      color: $button-color-hover
      background-color: $button-bg-hover
    &:focus
      background-color: $button-bg
      color: $button-color
      box-shadow: $ring-gray-shadow-xs
    &:disabled
      cursor: default
      color: $button-color-disabled
      background-color: $button-bg-disabled
      border: 1px solid $button-border-color-disabled
    &.#{$prefix}button-full-width
      width: 100%
    &.#{$prefix}button-size-s
      padding: 8px 14px
      font-size: $sm-size
      line-height: $sm-line-height
    &.#{$prefix}button-size-m
      padding: 10px 16px
      font-size: $sm-size
      line-height: $sm-line-height
    &.#{$prefix}button-size-l
      padding: 10px 18px
      font-size: $m-size
      line-height: $m-line-height
    &.#{$prefix}button-size-xl
      padding: 12px 20px
      font-size: $m-size
      line-height: $m-line-height
    &.#{$prefix}link-button
      text-decoration: none
      display: inline-block
      box-sizing: border-box
    &.#{$prefix}link-button-disabled
      cursor: default
      color: $button-color-disabled
      background-color: $button-bg-disabled
      border: 1px solid $button-border-color-disabled
      &:hover,
      &:focus
        cursor: default
        color: $button-color-disabled
        background-color: $button-bg-disabled
        border: 1px solid $button-border-color-disabled
        box-shadow: none

    &.#{$prefix}button-primary
      background-color: $button-primary-bg
      border: 1px solid $button-primary-bg
      color: $button-primary-color
      &:hover
        background-color: $button-primary-bg-hover
        border: 1px solid $button-primary-bg-hover
        color: $button-primary-color
      &:focus
        background-color: $button-primary-bg
        border: 1px solid $button-primary-bg
        box-shadow: $ring-brand-shadow-xs
      &:disabled
        background-color: $button-primary-bg-disabled
        border: 1px solid $button-primary-border-color-disabled
        color: $button-primary-color-disabled
      &.#{$prefix}link-button-disabled
        background-color: $button-primary-bg-disabled
        border: 1px solid $button-primary-border-color-disabled
        color: $button-primary-color-disabled
        &:hover,
        &:focus
          cursor: default
          background-color: $button-primary-bg-disabled
          border: 1px solid $button-primary-border-color-disabled
          color: $button-primary-color-disabled
          box-shadow: none
    &.#{$prefix}button-primary-destructive
      background-color: $error-600
      border: 1px solid $error-600
      color: $um-white
      &:hover
        background-color: $error-700
        border: 1px solid $error-700
        color: $um-white
      &:focus
        background-color: $error-600
        border: 1px solid $error-600
        box-shadow: $ring-error-shadow-xs
        color: $um-white
      &:disabled
        background-color: $button-primary-bg-disabled
        border: 1px solid $button-primary-border-color-disabled
        color: $button-primary-color-disabled

    &.#{$prefix}button-secondary-destructive
      background-color: $um-white
      border: 1px solid $error-300
      color: $error-700
      &:hover
        background-color: $error-50
        border: 1px solid $error-300
        color: $error-800
      &:focus
        background-color: $um-white
        border: 1px solid $error-300
        box-shadow: $ring-error-shadow-xs
        color: $error-700
      &:disabled
        color: $button-color-disabled
        background-color: $button-bg-disabled
        border: 1px solid $button-border-color-disabled
    &.#{$prefix}button-tertiary-destructive
      background-color: transparent
      color: $error-700
      border: none
      box-shadow: none
      &:hover
        color: $error-800
        background-color: $error-50
        border: none
        box-shadow: none
      &:focus
        color: $error-700
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none
    &.#{$prefix}button-link-destructive
      background-color: transparent
      color: $error-700
      border: none
      border-radius: none
      box-shadow: none
      &:hover
        color: $error-800
        background-color: transparent
        border: none
        box-shadow: none
      &:focus
        color: $error-700
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none

    &.#{$prefix}button-secondary-color
      background-color: $um-white
      color: $primary-700
      border: 1px solid $primary-300
      &:hover
        color: $primary-800
        background-color: $primary-50
        border: 1px solid $primary-300
      &:focus
        border: 1px solid $primary-300
        background-color: $um-white
        color: $primary-700
        box-shadow: $ring-brand-shadow-xs
      &:disabled
        cursor: default
        color: $gray-400
        background-color: $um-white
        border: 1px solid $gray-200
        box-shadow: none
    &.#{$prefix}button-tertiary-gray
      background-color: transparent
      color: $gray-600
      border: none
      box-shadow: none
      &:hover
        color: $gray-700
        background-color: $gray-50
        border: none
        box-shadow: none
      &:focus
        color: $gray-600
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none
    &.#{$prefix}button-tertiary-color
      background-color: transparent
      color: $primary-700
      border: none
      box-shadow: none
      &:hover
        color: $primary-800
        background-color: $primary-50
        border: none
        box-shadow: none
      &:focus
        color: $primary-700
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none
    &.#{$prefix}button-link-gray
      background-color: transparent
      color: $gray-600
      border: none
      border-radius: none
      box-shadow: none
      &:hover
        color: $gray-700
        background-color: transparent
        border: none
        box-shadow: none
      &:focus
        color: $gray-600
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none
    &.#{$prefix}button-link-color
      background-color: transparent
      color: $primary-700
      border: none
      border-radius: none
      box-shadow: none
      &:hover
        color: $primary-800
        background-color: transparent
        border: none
        box-shadow: none
      &:focus
        color: $primary-700
        background-color: transparent
        border: none
        box-shadow: none
      &:disabled
        cursor: default
        color: $gray-400
        background-color: transparent
        border: none
        box-shadow: none


  // Box
  .#{$prefix}box
    +flex( column, flex-start, stretch, nowrap )
    border-radius: $radius-xl
    border: 1px solid $gray-200
    background: $um-white
    overflow: hidden
    box-shadow: $shadow-sm
    .#{$prefix}box-header
      +flex( row, space-between, baseline, nowrap )
      column-gap: $column-gap
      padding: $box-padding $box-padding $row-gap $box-padding
      .#{$prefix}box-title
        color: $gray-600
        font-size: $sm-size
        line-height: $sm-line-height
        font-weight: $bold-weight
      &.#{$prefix}box-no-title
        justify-content: flex-end
    .#{$prefix}box-content
      +flex( row, flex-start, baseline, wrap )
      padding: 0 $box-padding $box-padding $box-padding
      row-gap: $row-gap
      color: $gray-900
      word-wrap: break-word
      word-break: break-word
    .#{$prefix}box-footer
      +flex( row, flex-end, baseline, wrap )
      padding: 16px $box-padding
      border-top: 1px solid $gray-200
    &.#{$prefix}box-no-footer
      row-gap: $row-gap
      padding: $box-padding
      .#{$prefix}box-header
        padding: 0
      .#{$prefix}box-content
        padding: 0


  // Link
  .#{$prefix}link
    font-size: $sm-size
    line-height: $sm-line-height
    color: $link-color
    text-decoration: none
    font-weight: $bold-weight
    &:hover
      color: $link-hover-color
    &:focus
      color: $link-focus-color


  // Avatar
  .#{$prefix}avatar
    margin: 0
    padding: 0
    img
      display: block
      width: 100%
      float: left
      margin: 0
      padding: 0
    &.#{$prefix}avatar-s
      width: 32px
      height: 32px
    &.#{$prefix}avatar-m
      width: 40px
      height: 40px
    &.#{$prefix}avatar-l
      width: 64px
      height: 64px
    &.#{$prefix}avatar-xl
      width: 128px
      height: 128px
    &.#{$prefix}avatar-round
      overflow: hidden
      border-radius: 100%


  // Avatar uploader
  .#{$prefix}profile-photo-uploader
    +flex( row, flex-start, start, nowrap )
    +border-box
    margin: 0
    padding: 0
    position: relative
    //.#{$prefix}dropdown-wrapper
    //  min-width: auto
    //  width: 4px
    //  right: 4px
    //  position: relative
    .#{$prefix}profile-photo-wrapper
      margin: 0
      padding: 0
      position: relative
      .#{$prefix}profile-photo
        border: 4px solid $um-white
        box-shadow: $shadow-lg
        +border-box
        img
          height: auto
        &:hover
          & ~ .#{$prefix}profile-photo-uploader-overflow
            display: block
    .#{$prefix}profile-photo-uploader-overflow
      cursor: pointer
      position: absolute
      top: 3px
      left: 3px
      bottom: 3px
      right: 3px
      background: rgba(0, 0, 0, 0.2)
      border-radius: 100%
      display: none
      svg
        stroke: $um-white
        position: absolute
        top: calc( 50% - 22px )
        left: calc( 50% - 22px )
        > *
          stroke: $um-white
      &:hover
        display: block
    .#{$prefix}profile-photo-overflow
      backdrop-filter: blur(10px)
      position: absolute
      top: 3px
      left: 3px
      bottom: 3px
      right: 3px
      background: rgba(255, 255, 255, 0.2)
      border-radius: 100%
      display: none
      .#{$prefix}ajax-spinner-svg
        position: absolute
        top: calc( 50% - 24px )
        left: calc( 50% - 24px )
    &.#{$prefix}processing
      .#{$prefix}profile-photo-uploader-overflow
        display: none
      .#{$prefix}profile-photo-overflow
        display: block
